webpackJsonp([10],{1140:function(t,e,a){a(980);var r=a(0)(a(841),a(1214),null,null);t.exports=r.exports},1141:function(t,e,a){var r=a(0)(a(843),a(1169),null,null);t.exports=r.exports},1169:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-zero c-department-create mx-auto"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex flex-row align-items-center"},[a("h5",{staticClass:"mb-0"},[t._v("Edit Department")]),t._v(" "),a("div",{staticClass:"ml-auto"},[a("input-button",{staticClass:"btn btn-secondary",attrs:{value:"Cancel"},nativeOn:{click:function(e){t.$emit("done")}}}),t._v(" "),a("input-button",{class:{disabled:t.disabled},attrs:{value:"Save"},nativeOn:{click:function(e){t.edit(e)}}})],1)]),t._v(" "),a("div",{staticClass:"card-block flex-auto"},[t.formStatus?a("alert",{directives:[{name:"autofocus",rawName:"v-autofocus"}],attrs:{type:"danger"},domProps:{innerHTML:t._s(t.formStatus)}}):t._e(),t._v(" "),a("form",{staticClass:"row",on:{submit:function(e){e.preventDefault(),t.edit(e)}}},[a("input",{attrs:{type:"submit",hidden:""}}),t._v(" "),a("div",{staticClass:"col-12"},[a("input-text",{attrs:{title:"Name",errors:t.errors,required:""},model:{value:t.attributes.name,callback:function(e){t.attributes.name=e},expression:"attributes.name"}})],1),t._v(" "),a("div",{staticClass:"col-12"},[a("checkbox-wrapper",{attrs:{title:"Type",errors:t.errors,required:""}},[a("input-box",{attrs:{radio:!0,title:"Academic",inline:""},model:{value:t.attributes.academic,callback:function(e){t.attributes.academic=e},expression:"attributes.academic"}}),t._v(" "),a("input-box",{attrs:{radio:!1,title:"Non-academic",inline:""},model:{value:t.attributes.academic,callback:function(e){t.attributes.academic=e},expression:"attributes.academic"}})],1)],1),t._v(" "),a("div",{staticClass:"col-12 col-lg-6"},[a("input-text",{attrs:{title:"Short Code",email:t.errors,required:""},model:{value:t.attributes.short_name,callback:function(e){t.attributes.short_name=e},expression:"attributes.short_name"}})],1),t._v(" "),a("div",{staticClass:"col-12 col-lg-6"},[a("input-typeahead",{attrs:{title:"Head of Department",component:"SelectOptionUser",suggestions:t.teachers,errors:t.errors},model:{value:t.attributes.head_id,callback:function(e){t.attributes.head_id=e},expression:"attributes.head_id"}})],1)])],1)])])},staticRenderFns:[]}},1173:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("container-window",t._b({},"container-window",{title:t.title,subtitle:t.subtitle}),[r("template",{slot:"sidebar"},[r("sidebar")],1),t._v(" "),r("template",{slot:"buttons"},[r("input-button",{attrs:{value:"Add New"},nativeOn:{click:function(e){t.create(e)}}})],1),t._v(" "),r("modal",{attrs:{open:t.editing,dismissable:!1},on:{close:function(e){t.editing=!1}}},[null===t.current?r("create-department",{on:{done:function(e){t.editing=!1}}}):r("edit-department",t._b({on:{done:function(e){t.editing=!1}}},"edit-department",{department:t.current}))],1),t._v(" "),r("div",{staticClass:"container-zero my-3 py-3 text-center"},[r("img",{attrs:{src:a(991)}})]),t._v(" "),r("div",{staticClass:"container-zero py-3"},[r("div",{staticClass:"row"},[r("h2",{staticClass:"col-12 text-center"},[t._v(t._s(t.title))]),t._v(" "),t._l(t.departments,function(e){return r("div",{key:e,staticClass:"col-12 col-lg-6 mt-3"},[r("department-card",t._b({attrs:{role:"button"},nativeOn:{click:function(a){t.edit(e)}}},"department-card",{department:e,footer:!0}))],1)})],2)])],2)},staticRenderFns:[]}},1213:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-zero c-department-create mx-auto"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex flex-row align-items-center"},[a("h5",{staticClass:"mb-0"},[t._v("Create Department")]),t._v(" "),a("div",{staticClass:"ml-auto"},[a("input-button",{staticClass:"btn btn-secondary",attrs:{value:"Cancel"},nativeOn:{click:function(e){t.$emit("done")}}}),t._v(" "),a("input-button",{class:{disabled:t.disabled},attrs:{value:"Create"},nativeOn:{click:function(e){t.save(e)}}})],1)]),t._v(" "),a("div",{staticClass:"card-block flex-auto"},[t.formStatus?a("alert",{directives:[{name:"autofocus",rawName:"v-autofocus"}],attrs:{type:"danger"},domProps:{innerHTML:t._s(t.formStatus)}}):t._e(),t._v(" "),a("form",{staticClass:"row",on:{submit:function(e){e.preventDefault(),t.save(e)}}},[a("input",{attrs:{type:"submit",hidden:""}}),t._v(" "),a("div",{staticClass:"col-12"},[a("input-text",{attrs:{title:"Name",errors:t.errors,required:""},model:{value:t.attributes.name,callback:function(e){t.attributes.name=e},expression:"attributes.name"}})],1),t._v(" "),a("div",{staticClass:"col-12"},[a("checkbox-wrapper",{attrs:{title:"Type",errors:t.errors,required:""}},[a("input-box",{attrs:{radio:!0,title:"Academic",inline:""},model:{value:t.attributes.academic,callback:function(e){t.attributes.academic=e},expression:"attributes.academic"}}),t._v(" "),a("input-box",{attrs:{radio:!1,title:"Non-academic",inline:""},model:{value:t.attributes.academic,callback:function(e){t.attributes.academic=e},expression:"attributes.academic"}})],1)],1),t._v(" "),a("div",{staticClass:"col-12 col-lg-6"},[a("input-text",{attrs:{title:"Short Code",errors:t.errors,required:""},model:{value:t.attributes.short_name,callback:function(e){t.attributes.short_name=e},expression:"attributes.short_name"}})],1),t._v(" "),a("div",{staticClass:"col-12 col-lg-6"},[a("input-typeahead",{attrs:{title:"Head of Department",component:"SelectOptionUser",suggestions:t.teachers,errors:t.errors},model:{value:t.attributes.head_id,callback:function(e){t.attributes.head_id=e},expression:"attributes.head_id"}})],1)])],1)])])},staticRenderFns:[]}},1214:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("abstract-card",t._b({},"abstract-card",{remove:t.remove,footer:t.footer}),[a("h6",{staticClass:"card-title"},[t._v(t._s(t.department.name)+" - "+t._s(t.department.short_name))]),t._v(" "),a("small",{staticClass:"text-muted d-block"},[t._v("\n    Head of Department: "+t._s(t.department.head.name||"...")+"\n  ")]),t._v(" "),a("template",{slot:"footer"},[a("div",{staticClass:"d-flex flex-row align-items-center text-center"},[a("div",{staticClass:"profile-field flex-auto mb-0"},[a("div",{staticClass:"label"},[t._v("Students")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.department.stats.student))])]),t._v(" "),a("div",{staticClass:"profile-field flex-auto mb-0"},[a("div",{staticClass:"label"},[t._v("Teachers")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.department.stats.teacher))])]),t._v(" "),a("div",{staticClass:"profile-field flex-auto mb-0"},[a("div",{staticClass:"label"},[t._v("Employees")]),t._v(" "),a("div",{staticClass:"value"},[t._v(t._s(t.department.stats.employee))])])])])],2)},staticRenderFns:[]}},566:function(t,e,a){a(951);var r=a(0)(a(890),a(1173),null,null);t.exports=r.exports},830:function(t,e,a){a(979);var r=a(0)(a(842),a(1213),null,null);t.exports=r.exports},841:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{department:{type:Object,required:!0},remove:{type:Boolean,default:!1},footer:{type:Boolean,default:!1}}}},842:function(t,e,a){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(3),s=_interopRequireDefault(r),i=a(2),n=_interopRequireDefault(i),o=a(5),c=_interopRequireDefault(o),l=a(4),u=a(51),d=a(66),p=_interopRequireDefault(d);e.default={name:"EditDepartment",data:function(){return{attributes:{name:"",short_name:"",academic:!0,head_id:0},teachers:[],disabled:!1}},methods:(0,c.default)({save:function(){var t=this;return(0,n.default)(s.default.mark(function _callee(){var e,a,r;return s.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.clearErrors(),t.disabled=!0,s.next=4,t.store(t.attributes);case 4:e=s.sent,a=e.errors,r=e.department,t.disabled=!1,r?t.$emit("done"):a?(t.setErrors(a),t.formStatus=a.$message):t.formStatus="Ah! Oh! This is not expected. Contact support.";case 9:case"end":return s.stop()}},_callee,t)}))()},onSearch:(0,p.default)(function(t){this.fetch(t)},400),fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,n.default)(s.default.mark(function _callee2(){var a,r;return s.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.index({q:e});case 2:a=s.sent,r=a.teachers,t.teachers=r||[];case 5:case"end":return s.stop()}},_callee2,t)}))()}},(0,l.mapActions)("departments",["store"]),(0,l.mapActions)("teachers",["index"])),created:function(){this.fetch()},mixins:[u.formHelper]}},843:function(t,e,a){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(29),s=_interopRequireDefault(r),i=a(3),n=_interopRequireDefault(i),o=a(2),c=_interopRequireDefault(o),l=a(5),u=_interopRequireDefault(l),d=a(4),p=a(830),f=_interopRequireDefault(p),m=a(7);e.default={name:"EditDepartment",extends:f.default,props:{department:{type:Object,required:!0}},computed:{suggestions:function(){var t=this.department.head_id?[this.department.head]:[],e=this.teachers;return t.concat(e)}},methods:(0,u.default)({edit:function(){var t=this;return(0,c.default)(n.default.mark(function _callee(){var e,a,r;return n.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.clearErrors(),t.disabled=!0,s.next=4,t.update({id:t.department.id,payload:t.attributes});case 4:e=s.sent,a=e.errors,r=e.department,t.disabled=!1,r?t.$emit("done"):a?(t.setErrors(a),t.formStatus=a.$message):t.formStatus="Ah! Oh! This is not expected. Contact support.";case 9:case"end":return s.stop()}},_callee,t)}))()}},(0,d.mapActions)("departments",["update"])),created:function(){this.attributes=(0,m.only)(this.department,(0,s.default)(this.attributes))}}},890:function(t,e,a){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(5),s=_interopRequireDefault(r),i=a(4),n=a(533),o=_interopRequireDefault(n),c=a(1140),l=_interopRequireDefault(c),u=a(830),d=_interopRequireDefault(u),p=a(1141),f=_interopRequireDefault(p);e.default={name:"InstituteDepartments",data:function(){return{current:null}},computed:(0,s.default)({sidebarId:function(){return"settings.departments"}},(0,i.mapGetters)("departments",["departments"])),methods:{edit:function(t){this.current=t,this.onEdit()},create:function(){this.current=null,this.onEdit()}},components:{CreateDepartment:d.default,DepartmentCard:l.default,EditDepartment:f.default},mixins:[o.default]}},908:function(t,e,a){e=t.exports=a(528)(void 0),e.push([t.i,"",""])},936:function(t,e,a){e=t.exports=a(528)(void 0),e.push([t.i,"",""])},937:function(t,e,a){e=t.exports=a(528)(void 0),e.push([t.i,"",""])},951:function(t,e,a){var r=a(908);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(529)("621f697e",r,!0)},979:function(t,e,a){var r=a(936);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(529)("ae880c40",r,!0)},980:function(t,e,a){var r=a(937);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(529)("1aaf1f07",r,!0)},991:function(t,e){t.exports="/app/images/resources/assets/app/assets/settings/departments.svg?9f88c691a6976acee6b415b07f4679c0"}});
//# sourceMappingURL=10.7c94a10689e1c605cc70.js.map