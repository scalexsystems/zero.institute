webpackJsonp([13,39],{436:function(t,e,i){i(763);var n=i(0)(i(635),i(743),null,null);t.exports=n.exports},600:function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),a=_interopRequireDefault(n),r=i(2),s=_interopRequireDefault(r),l=i(5),o=_interopRequireDefault(l),u=i(4),c=i(39);e.default={name:"InvitePanel",props:{type:{type:String,required:!0}},data:function(){return{invited:0,emails:""}},computed:{placeholder:function(){return"Enter alias address e.g. "+this.type+"@domain.com"}},methods:(0,o.default)({cancel:function(){this.emails=""},sendInvite:function(){var t=this;return(0,s.default)(a.default.mark(function _callee(){var e,i,n,r;return a.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=t.getArrayFromString(t.emails),!e){a.next=9;break}if(i=t.validateEmails(e),!i.length){a.next=9;break}return a.next=6,t.store({emails:i,type:t.type});case 6:n=a.sent,r=n.errors,r?t.setErrors(r):(t.invited+=i.length,t.emails="");case 9:case"end":return a.stop()}},_callee,t)}))()},getArrayFromString:function(t){return t.split(/[;,\s\r\n\t]+/g)},validateEmails:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.filter(function(t){return e.test(t)})}},(0,u.mapActions)("invitations",["store"])),mixins:[c.formHelper]}},635:function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(709),a=_interopRequireDefault(n),r=i(120),s=_interopRequireDefault(r);e.default={name:"InstituteInvite",data:function(){return{}},components:{InvitePanel:a.default,Sidebar:s.default}}},659:function(t,e,i){e=t.exports=i(398)(),e.push([t.i,".invite-input[data-v-84649728]{padding:rem(20px) 0 rem(10px)}.invite-actions[data-v-84649728]{padding:rem(20px) 0}.btn-default[data-v-84649728]{border:1px solid #9b9b9b}.btn[data-v-84649728]{margin:0 rem(2px);width:rem(100px)}",""])},667:function(t,e,i){e=t.exports=i(398)(),e.push([t.i,"",""])},687:function(t,e,i){var n=i(659);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(399)("387b770e",n,!0)},701:function(t,e){t.exports="/app/images/invitations.svg?627b10743198288a3ab24322ae72712f"},709:function(t,e,i){i(687);var n=i(0)(i(600),i(751),"data-v-84649728",null);t.exports=n.exports},743:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("container-window",{attrs:{title:"Invites",subtitle:"Invite students,teachers and employees of the institute"}},[n("template",{slot:"sidebar"},[n("sidebar")],1),t._v(" "),n("div",{staticClass:"container-zero my-3 py-3 text-center"},[n("img",{attrs:{src:i(701)}})]),t._v(" "),n("div",{staticClass:"container-fluid text-center"},[n("h2",{staticClass:"text-center my-3 py-3"},[t._v("Invitations")]),t._v(" "),n("p")]),t._v(" "),n("invite-panel",{attrs:{type:"student"}}),t._v(" "),n("invite-panel",{attrs:{type:"teacher"}}),t._v(" "),n("invite-panel",{attrs:{type:"employee"}})],2)},staticRenderFns:[]}},751:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h6",{staticClass:"split-header text-uppercase text-muted"},[t._v("Invite "+t._s(t.type)+"s")]),t._v(" "),i("div",{staticClass:"container-zero my-3 py-3"},[i("input-textarea",{directives:[{name:"model",rawName:"v-model",value:t.emails,expression:"emails"}],attrs:{title:"Send email invites",errors:t.errors,placeholder:t.placeholder,subtitle:"yes"},domProps:{value:t.emails},on:{input:function(e){t.emails=e}}},[i("template",{slot:"subtitle"},[i("div",{staticClass:"d-flex flex-row"},[i("div",{staticClass:"flex-auto"},[t._v("An invite will be sent to all "+t._s(t.type)+"s using this list.")]),t._v(" "),i("div",{staticClass:"ml-auto text-muted"},[t._v(t._s(t.invited)+" Invited")])])])],2),t._v(" "),i("div",{staticClass:"text-right mt-3"},[t.emails&&t.emails.trim().length>0?i("div",{staticClass:"btn btn-default",attrs:{role:"button"},on:{click:t.cancel}},[t._v("Reset")]):t._e(),t._v(" "),i("div",{staticClass:"btn btn-primary",attrs:{role:"button"},on:{click:t.sendInvite}},[t._v("Send Invite")])])],1)])},staticRenderFns:[]}},763:function(t,e,i){var n=i(667);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(399)("629cbcd6",n,!0)}});
//# sourceMappingURL=13.e9d9badbf7180bcf79fb.js.map