{"version":3,"sources":["webpack:///28.b9d1a0c8c38287876fd5.js","webpack:///./resources/assets/app/pages/people/employee/Results.vue","webpack:///./resources/assets/app/pages/people/results.js?146a*","webpack:///Results.vue?1dc4","webpack:///./resources/assets/app/pages/people/employee/Results.vue?2586"],"names":["webpackJsonp","425","module","exports","__webpack_require__","Component","489","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_toConsumableArray2","_toConsumableArray3","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_lodash","_lodash2","_util","_Card","_Card2","_Card3","_Card4","_Card5","_Card6","data","department","items","query","ignoreChanges","page","computed","countText","this","length","type","searchText","methods","onInput","fetch","onInfinite","_ref","_this","loaded","complete","mark","_callee","wrap","_context","prev","next","t0","notLastPage","t1","sent","stop","_this2","_callee2","_ref2","meta","_items","_context2","callAPI","push","apply","filter","s","findIndex","o","id","nextPage","abrupt","go","trim","q","discipline","slice","$router","replace","name","getRouteParams","_this3","$route","toArray","map","toInt","$nextTick","created","components","StudentCard","TeacherCard","EmployeeCard","watch","624","_extends2","_extends3","_vuex","_results","_results2","employees","mapGetters","departments","index","mapActions","mixins","732","render","_vm","_h","$createElement","_c","_self","attrs","title","subtitle","back","on","$event","staticClass","_l","item","directives","rawName","expression","checkbox","custom","domProps","input","_v","input-class","_s","infinite","employee","key","tag","role","to","params","uid","staticRenderFns"],"mappings":"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","file":"28.b9d1a0c8c38287876fd5.js","sourcesContent":["webpackJsonp([28,39],{\n\n/***/ 425:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(624),\n  /* template */\n  __webpack_require__(732),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 489:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _toConsumableArray2=__webpack_require__(118);var _toConsumableArray3=_interopRequireDefault(_toConsumableArray2);var _regenerator=__webpack_require__(3);var _regenerator2=_interopRequireDefault(_regenerator);var _asyncToGenerator2=__webpack_require__(2);var _asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);var _lodash=__webpack_require__(115);var _lodash2=_interopRequireDefault(_lodash);\nvar _util=__webpack_require__(8);\nvar _Card=__webpack_require__(402);var _Card2=_interopRequireDefault(_Card);\nvar _Card3=__webpack_require__(400);var _Card4=_interopRequireDefault(_Card3);\nvar _Card5=__webpack_require__(407);var _Card6=_interopRequireDefault(_Card5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.default=\n\n{\ndata:function data(){return{\ndepartment:[],\nitems:[],\nquery:'',\nignoreChanges:false,\npage:1};},\n\n\ncomputed:{\ncountText:function countText(){\nvar items=this.items;\n\nreturn items.length===1?'1 '+this.type:items.length+' '+this.type+'s';\n},\nsearchText:function searchText(){\nreturn'All '+this.type+'s';\n}},\n\n\nmethods:{\nonInput:(0,_lodash2.default)(function onInput(){\nthis.page=1;\nthis.fetch();\n},400),\nonInfinite:function onInfinite(_ref){var _this=this;var loaded=_ref.loaded,complete=_ref.complete;return(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=_util.notLastPage;_context.next=3;return(\n_this.fetch());case 3:_context.t1=_context.sent;if(!(0,_context.t0)(_context.t1)){_context.next=8;break;}loaded();_context.next=9;break;case 8:complete();case 9:case'end':return _context.stop();}}},_callee,_this);}))();\n},\nfetch:function fetch(){var _this2=this;return(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var _ref2,items,meta,_items;return _regenerator2.default.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(\n_this2.callAPI());case 2:_ref2=_context2.sent;items=_ref2.items;meta=_ref2.meta;\n\nif(items){\nif(_this2.page===1){\n_this2.items=items;\n}else{\n(_items=_this2.items).push.apply(_items,(0,_toConsumableArray3.default)(items.filter(function(s){return _this2.items.findIndex(function(o){return o.id===s.id;})<0;})));\n}\n}else{\n_this2.items=[];\n}\n\n_this2.page=(0,_util.nextPage)(meta);return _context2.abrupt('return',\n\nmeta);case 8:case'end':return _context2.stop();}}},_callee2,_this2);}))();\n},\ngo:function go(){\nvar query={};\n\nif(this.ignoreChanges)return;\n\nif(this.query.trim().length){\nquery.q=this.query;\n}\n\nif(this.discipline&&this.discipline.length){\nquery.discipline=this.discipline.slice();\n}\n\nif(this.department.length){\nquery.department=this.department.slice();\n}\n\nthis.$router.replace({name:this.type+'.index',query:query});\n},\n\ngetRouteParams:function getRouteParams(){var _this3=this;\nthis.ignoreChanges=true;\nthis.page=1;\nthis.query=this.$route.query.q||'';\nif(this.discipline){\nthis.discipline=(0,_util.toArray)(this.$route.query.discipline||[]).map(_util.toInt);\n}\nthis.department=(0,_util.toArray)(this.$route.query.department||[]).map(_util.toInt);\nthis.$nextTick(function(){\n_this3.ignoreChanges=false;\n});\nthis.fetch();\n}},\n\n\ncreated:function created(){\nthis.getRouteParams();\n},\n\ncomponents:{StudentCard:_Card2.default,TeacherCard:_Card4.default,EmployeeCard:_Card6.default},\n\nwatch:{\ndiscipline:'go',\ndepartment:'go',\n$route:'getRouteParams'}};\n\n/***/ }),\n\n/***/ 624:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _regenerator=__webpack_require__(3);var _regenerator2=_interopRequireDefault(_regenerator);var _asyncToGenerator2=__webpack_require__(2);var _asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);var _extends2=__webpack_require__(5);var _extends3=_interopRequireDefault(_extends2);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _vuex=__webpack_require__(4);\nvar _results=__webpack_require__(489);var _results2=_interopRequireDefault(_results);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.default=\n\n{\nname:'EmployeeDirectory',\n\ncomputed:(0,_extends3.default)({\ntype:function type(){return'employee';},\nemployees:function employees(){\nreturn this.items;\n}},\n(0,_vuex.mapGetters)({\ndepartments:'departments/departments'})),\n\n\n\nmethods:(0,_extends3.default)({\ncallAPI:function callAPI(){var _this=this;return(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var _ref,employees,meta;return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(\n_this.index({page:_this.page,q:_this.query,department:_this.department}));case 2:_ref=_context.sent;employees=_ref.employees;meta=_ref.meta;return _context.abrupt('return',\n\n{items:employees,meta:meta});case 6:case'end':return _context.stop();}}},_callee,_this);}))();\n}},\n(0,_vuex.mapActions)('employees',['index'])),\n\n\nmixins:[_results2.default]};\n\n/***/ }),\n\n/***/ 732:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('container', {\n    attrs: {\n      \"title\": \"Employees Directory\",\n      \"subtitle\": \"Explore employees' information\",\n      \"back\": \"\"\n    },\n    on: {\n      \"back\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"container py-3 employee-list\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-12 col-lg-3\"\n  }, [_c('div', {\n    staticClass: \"card card-block\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-12\"\n  }, [_c('checkbox-wrapper', {\n    attrs: {\n      \"title\": \"Department\"\n    }\n  }, _vm._l((_vm.departments), function(item) {\n    return _c('input-box', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (_vm.department),\n        expression: \"department\"\n      }],\n      attrs: {\n        \"checkbox\": item.id,\n        \"title\": item.name,\n        \"custom\": false\n      },\n      domProps: {\n        \"value\": (_vm.department)\n      },\n      on: {\n        \"input\": function($event) {\n          _vm.department = $event\n        }\n      }\n    })\n  }))], 1)])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12 col-lg-9\"\n  }, [_c('input-search', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    attrs: {\n      \"input-class\": \"form-control-lg\"\n    },\n    domProps: {\n      \"value\": (_vm.query)\n    },\n    on: {\n      \"input\": [function($event) {\n        _vm.query = $event\n      }, _vm.onInput]\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"card\"\n  }, [_c('div', {\n    staticClass: \"card-header bg-white d-flex flex-row\"\n  }, [_c('h5', {\n    staticClass: \"mb-0\"\n  }, [_vm._v(_vm._s(_vm.searchText))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-muted ml-auto\"\n  }, [_vm._v(\"\\n              \" + _vm._s(_vm.countText) + \"\\n            \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"card-block\"\n  }, [_c('infinite-loader', {\n    staticClass: \"row\",\n    on: {\n      \"infinite\": _vm.onInfinite\n    }\n  }, _vm._l((_vm.employees), function(employee) {\n    return _c('router-link', {\n      key: employee,\n      staticClass: \"col-12 col-lg-6 employee-card mb-3\",\n      attrs: {\n        \"tag\": \"div\",\n        \"role\": \"button\",\n        \"to\": {\n          name: 'employee.show',\n          params: {\n            uid: employee.uid\n          }\n        }\n      }\n    }, [_c('employee-card', {\n      attrs: {\n        \"employee\": employee\n      }\n    })], 1)\n  }))], 1)])], 1)])])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 28.b9d1a0c8c38287876fd5.js","var Component = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Results.vue\"),\n  /* template */\n  require(\"!!../../../../../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-310b2c2a\\\"}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Results.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/app/pages/people/employee/Results.vue\n// module id = 425\n// module chunks = 28","import throttle from 'lodash.throttle'\nimport { notLastPage, nextPage, toArray, toInt } from '../../util'\nimport StudentCard from '../../components/student/Card.vue'\nimport TeacherCard from '../../components/teacher/Card.vue'\nimport EmployeeCard from '../../components/employee/Card.vue'\n\nexport default {\n  data: () => ({\n    department: [],\n    items: [],\n    query: '',\n    ignoreChanges: false,\n    page: 1\n  }),\n\n  computed: {\n    countText () {\n      const items = this.items\n\n      return items.length === 1 ? `1 ${this.type}` : `${items.length} ${this.type}s`\n    },\n    searchText () {\n      return `All ${this.type}s`\n    }\n  },\n\n  methods: {\n    onInput: throttle(function onInput () {\n      this.page = 1\n      this.fetch()\n    }, 400),\n    async onInfinite ({ loaded, complete }) {\n      notLastPage(await this.fetch()) ? loaded() : complete()\n    },\n    async fetch () {\n      const { items, meta } = await this.callAPI()\n\n      if (items) {\n        if (this.page === 1) {\n          this.items = items\n        } else {\n          this.items.push(...items.filter(s => this.items.findIndex(o => o.id === s.id) < 0))\n        }\n      } else {\n        this.items = []\n      }\n\n      this.page = nextPage(meta)\n\n      return meta\n    },\n    go () {\n      const query = {}\n\n      if (this.ignoreChanges) return\n\n      if (this.query.trim().length) {\n        query.q = this.query\n      }\n\n      if (this.discipline && this.discipline.length) {\n        query.discipline = this.discipline.slice()\n      }\n\n      if (this.department.length) {\n        query.department = this.department.slice()\n      }\n\n      this.$router.replace({ name: `${this.type}.index`, query })\n    },\n\n    getRouteParams () {\n      this.ignoreChanges = true\n      this.page = 1\n      this.query = this.$route.query.q || ''\n      if (this.discipline) {\n        this.discipline = toArray(this.$route.query.discipline || []).map(toInt)\n      }\n      this.department = toArray(this.$route.query.department || []).map(toInt)\n      this.$nextTick(() => {\n        this.ignoreChanges = false\n      })\n      this.fetch()\n    }\n  },\n\n  created () {\n    this.getRouteParams()\n  },\n\n  components: { StudentCard, TeacherCard, EmployeeCard },\n\n  watch: {\n    discipline: 'go',\n    department: 'go',\n    $route: 'getRouteParams'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./resources/assets/app/pages/people/results.js","<template>\n<container title=\"Employees Directory\" subtitle=\"Explore employees' information\" @back=\"$router.go(-1)\" back>\n  <div class=\"container py-3 employee-list\">\n    <div class=\"row\">\n      <div class=\"col-12 col-lg-3\">\n        <div class=\"card card-block\">\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <checkbox-wrapper title=\"Department\">\n                <input-box v-for=\"item of departments\" :checkbox=\"item.id\" v-model=\"department\" :title=\"item.name\"\n                           :custom=\"false\"/>\n              </checkbox-wrapper>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-9\">\n        <input-search v-model=\"query\" input-class=\"form-control-lg\" @input=\"onInput\"></input-search>\n\n        <div class=\"card\">\n          <div class=\"card-header bg-white d-flex flex-row\">\n            <h5 class=\"mb-0\">{{ searchText }}</h5>\n\n            <div class=\"text-muted ml-auto\">\n              {{ countText }}\n            </div>\n          </div>\n          <div class=\"card-block\">\n            <infinite-loader class=\"row\" @infinite=\"onInfinite\">\n              <router-link tag=\"div\" class=\"col-12 col-lg-6 employee-card mb-3\" role=\"button\"\n                           v-for=\"employee of employees\" :key=\"employee\"\n                           :to=\"{ name: 'employee.show', params: { uid: employee.uid } }\">\n                <employee-card :employee=\"employee\"/>\n              </router-link>\n            </infinite-loader>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</container>\n</template>\n\n<script lang=\"babel\">\nimport { mapGetters, mapActions } from 'vuex'\nimport mixin from '../results'\n\nexport default {\n  name: 'EmployeeDirectory',\n\n  computed: {\n    type: () => 'employee',\n    employees () {\n      return this.items\n    },\n    ...mapGetters({\n      departments: 'departments/departments'\n    })\n  },\n\n  methods: {\n    async callAPI () {\n      const { employees, meta } = await this.index({ page: this.page, q: this.query, department: this.department })\n\n      return { items: employees, meta }\n    },\n    ...mapActions('employees', ['index'])\n  },\n\n  mixins: [mixin]\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Results.vue?d1c58014","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('container', {\n    attrs: {\n      \"title\": \"Employees Directory\",\n      \"subtitle\": \"Explore employees' information\",\n      \"back\": \"\"\n    },\n    on: {\n      \"back\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"container py-3 employee-list\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-12 col-lg-3\"\n  }, [_c('div', {\n    staticClass: \"card card-block\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-12\"\n  }, [_c('checkbox-wrapper', {\n    attrs: {\n      \"title\": \"Department\"\n    }\n  }, _vm._l((_vm.departments), function(item) {\n    return _c('input-box', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (_vm.department),\n        expression: \"department\"\n      }],\n      attrs: {\n        \"checkbox\": item.id,\n        \"title\": item.name,\n        \"custom\": false\n      },\n      domProps: {\n        \"value\": (_vm.department)\n      },\n      on: {\n        \"input\": function($event) {\n          _vm.department = $event\n        }\n      }\n    })\n  }))], 1)])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12 col-lg-9\"\n  }, [_c('input-search', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    attrs: {\n      \"input-class\": \"form-control-lg\"\n    },\n    domProps: {\n      \"value\": (_vm.query)\n    },\n    on: {\n      \"input\": [function($event) {\n        _vm.query = $event\n      }, _vm.onInput]\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"card\"\n  }, [_c('div', {\n    staticClass: \"card-header bg-white d-flex flex-row\"\n  }, [_c('h5', {\n    staticClass: \"mb-0\"\n  }, [_vm._v(_vm._s(_vm.searchText))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-muted ml-auto\"\n  }, [_vm._v(\"\\n              \" + _vm._s(_vm.countText) + \"\\n            \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"card-block\"\n  }, [_c('infinite-loader', {\n    staticClass: \"row\",\n    on: {\n      \"infinite\": _vm.onInfinite\n    }\n  }, _vm._l((_vm.employees), function(employee) {\n    return _c('router-link', {\n      key: employee,\n      staticClass: \"col-12 col-lg-6 employee-card mb-3\",\n      attrs: {\n        \"tag\": \"div\",\n        \"role\": \"button\",\n        \"to\": {\n          name: 'employee.show',\n          params: {\n            uid: employee.uid\n          }\n        }\n      }\n    }, [_c('employee-card', {\n      attrs: {\n        \"employee\": employee\n      }\n    })], 1)\n  }))], 1)])], 1)])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-310b2c2a\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/app/pages/people/employee/Results.vue\n// module id = 732\n// module chunks = 28"],"sourceRoot":""}