webpackJsonp([22,39],{416:function(e,t,r){r(673);var i=r(0)(r(615),r(731),null,null);e.exports=i.exports},487:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(5),o=_interopRequireDefault(i),s=r(4);t.default={props:{id:{type:Number,required:!0}},computed:(0,o.default)({group:function(){return this.groupById(this.id)}},(0,s.mapGetters)("groups",["groupById"])),methods:(0,s.mapActions)("groups",{find:"find"}),created:function(){this.groupById(this.id)||this.find(this.id)},watch:{id:function(e){this.groupById(e)||this.find(e)}}}},572:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),o=_interopRequireDefault(i),s=r(2),u=_interopRequireDefault(s),n=r(118),a=_interopRequireDefault(n),c=r(5),p=_interopRequireDefault(c),l=r(4),d=r(8);t.default={data:function(){return{membersRequestSent:!1}},computed:(0,p.default)({groupMembers:function(){var e=this.membersByGroupId(this.id);return e?[].concat((0,a.default)(e)).sort(function(e,t){return e.name.localeCompare(t.name)}):[]}},(0,l.mapGetters)("groups",["membersByGroupId"])),methods:(0,p.default)({fetchMembers:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.loaded,i=void 0===r?function(){return 0}:r,s=t.complete,n=void 0===s?function(){return 0}:s;return(0,u.default)(o.default.mark(function _callee(){var t,r;return o.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e.membersRequestSent!==!0){o.next=3;break}return i(),o.abrupt("return",!0);case 3:if(e.group){o.next=6;break}return n(),o.abrupt("return",!1);case 6:return e.membersRequestSent=!0,o.next=9,e.fetchMembersAPI({group:e.group});case 9:if(t=o.sent,r=t.meta,e.membersRequestSent=!1,!(0,d.notLastPage)(r)){o.next=15;break}return i(),o.abrupt("return",!0);case 15:n();case 16:case"end":return o.stop()}},_callee,e)}))()}},(0,l.mapActions)("groups",{fetchMembersAPI:"members"})),created:function(){this.fetchMembers()},watch:{group:function(e,t){var r=this;t&&e.id!==t.id&&(this.membersRequestSent=!1,this.$refs&&this.$refs.is&&this.$refs.is.$emit("reset")),this.$nextTick(function(){return r.fetchMembers()})}}}},615:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),o=_interopRequireDefault(i),s=r(2),u=_interopRequireDefault(s),n=r(5),a=_interopRequireDefault(n),c=r(4),p=r(487),l=_interopRequireDefault(p),d=r(572),f=_interopRequireDefault(d);t.default={name:"Group",data:function(){return{query:""}},computed:{title:function(){return this.group?this.group.name:"..."},subtitle:function(){return this.group?this.group.description:"..."},photo:function(){return this.group?this.group.photo:""},isAdmin:function(){return!!this.group&&this.group.is_admin}},methods:(0,a.default)({joinGroup:function(e){var t=this;return(0,u.default)(o.default.mark(function _callee(){var r,i;return o.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.target.classList.add("disabled"),o.next=3,t.join(t.group.id);case 3:r=o.sent,i=r.group,e.target.classList.remove("disabled"),i&&t.$router.push({name:"group.messages",params:{id:t.group.id}});case 7:case"end":return o.stop()}},_callee,t)}))()}},(0,c.mapActions)("groups",["join"])),mixins:[l.default,f.default]}},645:function(e,t,r){t=e.exports=r(398)(),t.push([e.i,".p-group-photo{width:11.42857rem;height:11.42857rem;-o-object-fit:cover;object-fit:cover}.p-group-privacy-tag{padding:.5rem;font-size:.875rem;padding:.3rem}",""])},673:function(e,t,r){var i=r(645);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r(399)("47023835",i,!0)},731:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("container-window",e._b({attrs:{back:""},on:{back:function(t){e.$router.go(-1)}}},"container-window",{title:e.title,subtitle:e.subtitle}),[r("template",{slot:"buttons"},[e.isAdmin?r("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"group.edit",params:{id:e.group.id}},role:"button"}},[e._v("Edit")]):e._e()],1),e._v(" "),e.group?r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-lg-8 offset-lg-2"},[r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-12 my-3 text-center"},[e.isAdmin?r("photo-uploader",{staticClass:"p-group-photo round",attrs:{dest:"groups/"+e.group.id+"/photo"},on:{uploaded:function(t){e.find(e.group.id)}}},[r("img",{staticClass:"rounded-circle p-group-photo",attrs:{src:e.group.photo}})]):r("img",{staticClass:"rounded-circle p-group-photo",attrs:{src:e.group.photo}})],1),e._v(" "),r("div",{staticClass:"col-12 mb-3 text-center"},[e.group.private?r("span",{staticClass:"alert alert-danger p-group-privacy-tag"},[e._v("Private Group")]):r("span",{staticClass:"alert alert-info p-group-privacy-tag"},[e._v("Public Group")])]),e._v(" "),r("div",{staticClass:"col-12 mb-3 text-center"},[r("h2",[e._v(e._s(e.group.name))]),e._v(" "),r("p",{staticClass:"text-muted"},[e._v(e._s(e.group.description))])]),e._v(" "),e.group.is_member?e._e():r("div",{staticClass:"col-12 text-center mb-3"},[r("input-button",{on:{click:e.joinGroup}},[e._v("Join Group")])],1)]),e._v(" "),r("infinite-loader",{ref:"is",staticClass:"row",on:{infinite:e.fetchMembers}},[r("div",{staticClass:"col-12 mb-3"},[r("search",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"form-control-lg",attrs:{placeholder:"Find members..."},domProps:{value:e.query},on:{input:function(t){e.query=t}}})],1),e._v(" "),r("div",{staticClass:"col-12 mb-3 text-center"},[r("small",[e._v(e._s(e.group.member_count_text))])]),e._v(" "),e._l(e.groupMembers,function(e){return r("div",{staticClass:"col-12 col-lg-6 mb-3"},[r("user-card",{attrs:{user:e}})],1)})],2)],1)])]):e._e()],2)},staticRenderFns:[]}}});
//# sourceMappingURL=22.b0029f46b49b69783485.js.map