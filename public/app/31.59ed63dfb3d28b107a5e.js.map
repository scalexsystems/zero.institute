{"version":3,"sources":["webpack:///31.59ed63dfb3d28b107a5e.js","webpack:///./resources/assets/app/pages/courses/CourseCreate.vue?5252","webpack:///CourseCreate.vue?7a2e","webpack:///./resources/assets/app/pages/courses/CourseCreate.vue?d715*"],"names":["webpackJsonp","409","module","exports","__webpack_require__","Component","570","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_extends2","_extends3","_lodash","_lodash2","_bootstrapForVue","_vuex","_Card","_Card2","_Card3","_Card4","name","data","attributes","code","department_id","instructor","courses","teachers","computed","prerequisites","_this","this","map","id","courseById","years","instructors","index","findIndex","teacher","concat","mapGetters","departments","disciplines","semesters","methods","processResponse","course","errors","response","$options","$router","replace","params","setErrors","formStatus","$message","create","_this2","mark","_callee","_ref","wrap","_context","prev","next","clearErrors","$refs","submit","$el","classList","add","store","sent","remove","stop","onCourseSelect","indexOf","push","onCourseRemove","splice","onInstructorSearch","_ref2","_callee2","q","_ref3","_context2","search","_x","apply","arguments","onInstructorSelect","mapActions","created","length","components","CourseCard","TeacherCard","mixins","formHelper","577","render","_vm","_h","$createElement","_c","_self","attrs","title","subtitle","back","on","$event","go","slot","ref","nativeOn","click","_v","staticClass","directives","rawName","type","domProps","innerHTML","_s","_e","preventDefault","hidden","_b","expression","autofocus","required","input","suggestions","component","select","description","_l","staticStyle","padding","staticRenderFns"],"mappings":"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","file":"31.59ed63dfb3d28b107a5e.js","sourcesContent":["webpackJsonp([31,39],{\n\n/***/ 409:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(570),\n  /* template */\n  __webpack_require__(577),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 570:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _regenerator=__webpack_require__(3);var _regenerator2=_interopRequireDefault(_regenerator);var _asyncToGenerator2=__webpack_require__(2);var _asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);var _extends2=__webpack_require__(5);var _extends3=_interopRequireDefault(_extends2);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _lodash=__webpack_require__(115);var _lodash2=_interopRequireDefault(_lodash);\nvar _bootstrapForVue=__webpack_require__(39);\nvar _vuex=__webpack_require__(4);\nvar _Card=__webpack_require__(404);var _Card2=_interopRequireDefault(_Card);\nvar _Card3=__webpack_require__(400);var _Card4=_interopRequireDefault(_Card3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.default=\n\n{\nname:'CourseCreate',\n\ndata:function data(){return{\nattributes:{\nname:'',\ncode:'',\ndepartment_id:'',\ninstructor:0,\ncourses:[]},\n\ninstructor:null,\nteachers:[]};},\n\n\ncomputed:(0,_extends3.default)({\nprerequisites:function prerequisites(){var _this=this;\nreturn this.attributes.courses.map(function(id){return _this.courseById(id);});\n},\nyears:function years(){\nreturn[\n{id:1,name:'First Year'},\n{id:2,name:'Second Year'},\n{id:3,name:'Third Year'},\n{id:4,name:'Fourth Year'}];\n\n},\ninstructors:function instructors(){\nvar instructor=this.instructor;\nvar teachers=this.teachers;\n\nif(!instructor)return teachers;\n\nvar index=teachers.findIndex(function(teacher){return teacher.id===instructor.id;});\n\nif(index>-1)return teachers;\n\nreturn[instructor].concat(teachers);\n}},\n(0,_vuex.mapGetters)({\ndepartments:'departments/academic',\ndisciplines:'disciplines/disciplines',\ncourses:'courses/courses',\nsemesters:'semesters/semesters',\ncourseById:'courses/courseById'})),\n\n\nmethods:(0,_extends3.default)({\nprocessResponse:function processResponse(course,errors,response){\nif(course){\nthis.attributes=this.$options.data().attributes;\nthis.$router.replace({name:'course.show',params:{id:course.id}});\n}else if(errors){\nthis.setErrors(errors);\nthis.formStatus=errors.$message;\n}else if(response){\nthis.formStatus='Ah! Oh! This is unexpected. Call support now!';\n}\n},\n\ncreate:function create(){var _this2=this;return(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var _ref,course,errors,response;return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:\n_this2.clearErrors();\n\n_this2.$refs.submit.$el.classList.add('disabled');_context.next=4;return(\n_this2.store(_this2.attributes));case 4:_ref=_context.sent;course=_ref.course;errors=_ref.errors;response=_ref.response;\n_this2.$refs.submit.$el.classList.remove('disabled');\n\n_this2.processResponse(course,errors,response);case 10:case'end':return _context.stop();}}},_callee,_this2);}))();\n},\n\nonCourseSelect:function onCourseSelect(course){\nif(this.attributes.courses.indexOf(course.id)<0){\nthis.attributes.courses.push(course.id);\n}\n},\n\nonCourseRemove:function onCourseRemove(course){\nvar index=this.attributes.courses.indexOf(course.id);\n\nif(index>-1){\nthis.attributes.courses.splice(index,1);\n}\n},\nonInstructorSearch:(0,_lodash2.default)(function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(q){var _ref3,teachers;return _regenerator2.default.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(\nthis.search({q:q}));case 2:_ref3=_context2.sent;teachers=_ref3.teachers;\n\nthis.teachers=teachers||[];case 5:case'end':return _context2.stop();}}},_callee2,this);}));return function(_x){return _ref2.apply(this,arguments);};}()),\n\nonInstructorSelect:function onInstructorSelect(instructor){\nthis.instructor=instructor;\n}},\n(0,_vuex.mapActions)('courses',['index','store']),\n(0,_vuex.mapActions)('teachers',{search:'index'})),\n\n\ncreated:function created(){\nif(!this.courses.length){\nthis.index();\n}\n\nthis.onInstructorSearch();\n},\n\ncomponents:{CourseCard:_Card2.default,TeacherCard:_Card4.default},\nmixins:[_bootstrapForVue.formHelper]};\n\n/***/ }),\n\n/***/ 577:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('container-window', {\n    attrs: {\n      \"title\": \"Create Course\",\n      \"subtitle\": \"Add institute courses for students & teachers.\",\n      \"back\": \"\"\n    },\n    on: {\n      \"back\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }, [_c('template', {\n    slot: \"buttons\"\n  }, [_c('input-button', {\n    ref: \"submit\",\n    attrs: {\n      \"value\": \"Create\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.create($event)\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"container-zero mt-3\"\n  }, [(_vm.formStatus) ? _c('alert', {\n    directives: [{\n      name: \"autofocus\",\n      rawName: \"v-autofocus\"\n    }],\n    attrs: {\n      \"type\": \"danger\"\n    },\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.formStatus)\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"container-zero\"\n  }, [_c('form', {\n    staticClass: \"row\",\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.create($event)\n      }\n    }\n  }, [_c('input', {\n    attrs: {\n      \"type\": \"submit\",\n      \"hidden\": \"\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12 col-lg-6\"\n  }, [_c('input-text', _vm._b({\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.attributes.name),\n      expression: \"attributes.name\"\n    }],\n    attrs: {\n      \"title\": \"Name\",\n      \"autofocus\": \"\",\n      \"required\": \"\",\n      \"subtitle\": \"Complete course name e.g. Introduction to Computing 1\"\n    },\n    domProps: {\n      \"value\": (_vm.attributes.name)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.attributes.name = $event\n      }\n    }\n  }, 'input-text', {\n    errors: _vm.errors\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12 col-lg-6\"\n  }, [_c('input-text', _vm._b({\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.attributes.code),\n      expression: \"attributes.code\"\n    }],\n    attrs: {\n      \"title\": \"Code\",\n      \"required\": \"\",\n      \"subtitle\": \"A short name/code for the course e.g. CS50\"\n    },\n    domProps: {\n      \"value\": (_vm.attributes.code)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.attributes.code = $event\n      }\n    }\n  }, 'input-text', {\n    errors: _vm.errors\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12 col-lg-6\"\n  }, [_c('input-typeahead', _vm._b({\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.attributes.department_id),\n      expression: \"attributes.department_id\"\n    }],\n    attrs: {\n      \"title\": \"Department\",\n      \"required\": \"\",\n      \"subtitle\": \"Offerred by the department.\"\n    },\n    domProps: {\n      \"value\": (_vm.attributes.department_id)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.attributes.department_id = $event\n      }\n    }\n  }, 'input-typeahead', {\n    errors: _vm.errors,\n    suggestions: _vm.departments\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12 col-lg-6\"\n  }, [_c('input-typeahead', _vm._b({\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.attributes.instructor),\n      expression: \"attributes.instructor\"\n    }],\n    attrs: {\n      \"title\": \"Instructor\",\n      \"component\": \"SelectOptionUser\"\n    },\n    domProps: {\n      \"value\": (_vm.attributes.instructor)\n    },\n    on: {\n      \"select\": _vm.onInstructorSelect,\n      \"search\": _vm.onInstructorSearch,\n      \"input\": function($event) {\n        _vm.attributes.instructor = $event\n      }\n    }\n  }, 'input-typeahead', {\n    suggestions: _vm.instructors\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12\"\n  }, [_c('input-textarea', _vm._b({\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.attributes.description),\n      expression: \"attributes.description\"\n    }],\n    attrs: {\n      \"title\": \"Brief description\",\n      \"subtitle\": \"A brief description of the course. This is not course syllabus (Instructors can add course syllabus later).\"\n    },\n    domProps: {\n      \"value\": (_vm.attributes.description)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.attributes.description = $event\n      }\n    }\n  }, 'input-textarea', {\n    errors: _vm.errors\n  }))], 1)])]), _vm._v(\" \"), _c('h6', {\n    staticClass: \"split-header mt-3 py-3 text-muted text-uppercase\"\n  }, [_vm._v(\"Prerequisite Courses\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"container-zero\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-12\"\n  }, [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', [_vm._v(\"Prerequisite courses\")]), _vm._v(\" \"), _c('typeahead', _vm._b({\n    on: {\n      \"select\": _vm.onCourseSelect\n    }\n  }, 'typeahead', {\n    suggestions: _vm.courses,\n    value: []\n  }))], 1)]), _vm._v(\" \"), _vm._l((_vm.prerequisites), function(course) {\n    return _c('div', {\n      staticClass: \"col-12 col-lg-6 mb-3\"\n    }, [_c('course-card', _vm._b({\n      attrs: {\n        \"remove\": \"\"\n      },\n      on: {\n        \"remove\": _vm.onCourseRemove\n      }\n    }, 'course-card', {\n      course: course\n    }))], 1)\n  }), _vm._v(\" \"), (_vm.prerequisites.length === 0) ? _c('div', {\n    staticClass: \"col-12 text-center text-muted\",\n    staticStyle: {\n      \"padding\": \"27px 0\"\n    }\n  }, [_vm._v(\"\\n        No prerequisite courses.\\n      \")]) : _vm._e()], 2)])], 2)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 31.59ed63dfb3d28b107a5e.js","var Component = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CourseCreate.vue\"),\n  /* template */\n  require(\"!!../../../../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-3d7f0188\\\"}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CourseCreate.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/app/pages/courses/CourseCreate.vue\n// module id = 409\n// module chunks = 20 31","<template>\n<container-window title=\"Create Course\" subtitle=\"Add institute courses for students & teachers.\" @back=\"$router.go(-1)\"\n                  back>\n\n  <template slot=\"buttons\">\n  <input-button value=\"Create\" @click.native=\"create\" ref=\"submit\"/>\n  </template>\n\n  <div class=\"container-zero mt-3\">\n    <alert v-if=\"formStatus\" type=\"danger\" v-html=\"formStatus\" v-autofocus/>\n  </div>\n\n  <div class=\"container-zero\">\n    <form class=\"row\" @submit.prevent=\"create\">\n      <input type=\"submit\" hidden>\n\n      <div class=\"col-12 col-lg-6\">\n        <input-text title=\"Name\" v-model=\"attributes.name\" autofocus required v-bind=\"{ errors }\"\n                    subtitle=\"Complete course name e.g. Introduction to Computing 1\"/>\n      </div>\n\n      <div class=\"col-12 col-lg-6\">\n        <input-text title=\"Code\" v-model=\"attributes.code\" required v-bind=\"{ errors }\"\n                    subtitle=\"A short name/code for the course e.g. CS50\"/>\n      </div>\n\n      <div class=\"col-12 col-lg-6\">\n        <input-typeahead title=\"Department\" v-model=\"attributes.department_id\" required\n                         v-bind=\"{ errors, suggestions: departments }\"\n                         subtitle=\"Offerred by the department.\"/>\n      </div>\n\n      <div class=\"col-12 col-lg-6\">\n        <input-typeahead title=\"Instructor\" v-model=\"attributes.instructor\" v-bind=\"{ suggestions: instructors }\"\n                         @select=\"onInstructorSelect\" component=\"SelectOptionUser\"\n                         @search=\"onInstructorSearch\"/>\n      </div>\n\n      <div class=\"col-12\">\n        <input-textarea title=\"Brief description\" v-model=\"attributes.description\" v-bind=\"{ errors }\"\n                        subtitle=\"A brief description of the course. This is not course syllabus (Instructors can add course syllabus later).\"/>\n      </div>\n\n    </form>\n\n  </div>\n\n  <h6 class=\"split-header mt-3 py-3 text-muted text-uppercase\">Prerequisite Courses</h6>\n\n  <div class=\"container-zero\">\n    <div class=\"row\">\n\n      <div class=\"col-12\">\n        <div class=\"form-group\">\n          <label>Prerequisite courses</label>\n          <typeahead v-bind=\"{ suggestions: courses, value: [] }\" @select=\"onCourseSelect\"/>\n        </div>\n      </div>\n\n      <div class=\"col-12 col-lg-6 mb-3\" v-for=\"course in prerequisites\">\n        <course-card v-bind=\"{ course }\" remove @remove=\"onCourseRemove\"/>\n      </div>\n\n      <div v-if=\"prerequisites.length === 0\" class=\"col-12 text-center text-muted\" style=\"padding: 27px 0\">\n        No prerequisite courses.\n      </div>\n\n    </div>\n  </div>\n</container-window>\n</template>\n\n<script lang=\"babel\">\nimport throttle from 'lodash.throttle'\nimport { formHelper } from 'bootstrap-for-vue'\nimport { mapGetters, mapActions } from 'vuex'\nimport CourseCard from '../../components/course/Card.vue'\nimport TeacherCard from '../../components/teacher/Card.vue'\n\nexport default {\n  name: 'CourseCreate',\n\n  data: () => ({\n    attributes: {\n      name: '',\n      code: '',\n      department_id: '',\n      instructor: 0,\n      courses: []\n    },\n    instructor: null,\n    teachers: []\n  }),\n\n  computed: {\n    prerequisites () {\n      return this.attributes.courses.map(id => this.courseById(id))\n    },\n    years () {\n      return [\n        { id: 1, name: 'First Year' },\n        { id: 2, name: 'Second Year' },\n        { id: 3, name: 'Third Year' },\n        { id: 4, name: 'Fourth Year' }\n      ]\n    },\n    instructors () {\n      const instructor = this.instructor\n      const teachers = this.teachers\n\n      if (!instructor) return teachers\n\n      const index = teachers.findIndex(teacher => teacher.id === instructor.id)\n\n      if (index > -1) return teachers\n\n      return [instructor].concat(teachers)\n    },\n    ...mapGetters({\n      departments: 'departments/academic',\n      disciplines: 'disciplines/disciplines',\n      courses: 'courses/courses',\n      semesters: 'semesters/semesters',\n      courseById: 'courses/courseById'\n    })\n  },\n  methods: {\n    processResponse: function (course, errors, response) {\n      if (course) {\n        this.attributes = this.$options.data().attributes\n        this.$router.replace({ name: 'course.show', params: { id: course.id }})\n      } else if (errors) {\n        this.setErrors(errors)\n        this.formStatus = errors.$message\n      } else if (response) {\n        this.formStatus = 'Ah! Oh! This is unexpected. Call support now!'\n      }\n    },\n\n    async create () {\n      this.clearErrors()\n\n      this.$refs.submit.$el.classList.add('disabled')\n      const { course, errors, response } = await this.store(this.attributes)\n      this.$refs.submit.$el.classList.remove('disabled')\n\n      this.processResponse(course, errors, response)\n    },\n\n    onCourseSelect (course) {\n      if (this.attributes.courses.indexOf(course.id) < 0) {\n        this.attributes.courses.push(course.id)\n      }\n    },\n\n    onCourseRemove (course) {\n      const index = this.attributes.courses.indexOf(course.id)\n\n      if (index > -1) {\n        this.attributes.courses.splice(index, 1)\n      }\n    },\n    onInstructorSearch: throttle(async function (q) {\n      const { teachers } = await this.search({ q })\n\n      this.teachers = teachers || []\n    }),\n    onInstructorSelect (instructor) {\n      this.instructor = instructor\n    },\n    ...mapActions('courses', ['index', 'store']),\n    ...mapActions('teachers', { search: 'index' })\n  },\n\n  created () {\n    if (!this.courses.length) {\n      this.index()\n    }\n\n    this.onInstructorSearch()\n  },\n\n  components: { CourseCard, TeacherCard },\n  mixins: [formHelper]\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// CourseCreate.vue?6042de80","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('container-window', {\n    attrs: {\n      \"title\": \"Create Course\",\n      \"subtitle\": \"Add institute courses for students & teachers.\",\n      \"back\": \"\"\n    },\n    on: {\n      \"back\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }, [_c('template', {\n    slot: \"buttons\"\n  }, [_c('input-button', {\n    ref: \"submit\",\n    attrs: {\n      \"value\": \"Create\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.create($event)\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"container-zero mt-3\"\n  }, [(_vm.formStatus) ? _c('alert', {\n    directives: [{\n      name: \"autofocus\",\n      rawName: \"v-autofocus\"\n    }],\n    attrs: {\n      \"type\": \"danger\"\n    },\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.formStatus)\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"container-zero\"\n  }, [_c('form', {\n    staticClass: \"row\",\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.create($event)\n      }\n    }\n  }, [_c('input', {\n    attrs: {\n      \"type\": \"submit\",\n      \"hidden\": \"\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12 col-lg-6\"\n  }, [_c('input-text', _vm._b({\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.attributes.name),\n      expression: \"attributes.name\"\n    }],\n    attrs: {\n      \"title\": \"Name\",\n      \"autofocus\": \"\",\n      \"required\": \"\",\n      \"subtitle\": \"Complete course name e.g. Introduction to Computing 1\"\n    },\n    domProps: {\n      \"value\": (_vm.attributes.name)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.attributes.name = $event\n      }\n    }\n  }, 'input-text', {\n    errors: _vm.errors\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12 col-lg-6\"\n  }, [_c('input-text', _vm._b({\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.attributes.code),\n      expression: \"attributes.code\"\n    }],\n    attrs: {\n      \"title\": \"Code\",\n      \"required\": \"\",\n      \"subtitle\": \"A short name/code for the course e.g. CS50\"\n    },\n    domProps: {\n      \"value\": (_vm.attributes.code)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.attributes.code = $event\n      }\n    }\n  }, 'input-text', {\n    errors: _vm.errors\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12 col-lg-6\"\n  }, [_c('input-typeahead', _vm._b({\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.attributes.department_id),\n      expression: \"attributes.department_id\"\n    }],\n    attrs: {\n      \"title\": \"Department\",\n      \"required\": \"\",\n      \"subtitle\": \"Offerred by the department.\"\n    },\n    domProps: {\n      \"value\": (_vm.attributes.department_id)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.attributes.department_id = $event\n      }\n    }\n  }, 'input-typeahead', {\n    errors: _vm.errors,\n    suggestions: _vm.departments\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12 col-lg-6\"\n  }, [_c('input-typeahead', _vm._b({\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.attributes.instructor),\n      expression: \"attributes.instructor\"\n    }],\n    attrs: {\n      \"title\": \"Instructor\",\n      \"component\": \"SelectOptionUser\"\n    },\n    domProps: {\n      \"value\": (_vm.attributes.instructor)\n    },\n    on: {\n      \"select\": _vm.onInstructorSelect,\n      \"search\": _vm.onInstructorSearch,\n      \"input\": function($event) {\n        _vm.attributes.instructor = $event\n      }\n    }\n  }, 'input-typeahead', {\n    suggestions: _vm.instructors\n  }))], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-12\"\n  }, [_c('input-textarea', _vm._b({\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.attributes.description),\n      expression: \"attributes.description\"\n    }],\n    attrs: {\n      \"title\": \"Brief description\",\n      \"subtitle\": \"A brief description of the course. This is not course syllabus (Instructors can add course syllabus later).\"\n    },\n    domProps: {\n      \"value\": (_vm.attributes.description)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.attributes.description = $event\n      }\n    }\n  }, 'input-textarea', {\n    errors: _vm.errors\n  }))], 1)])]), _vm._v(\" \"), _c('h6', {\n    staticClass: \"split-header mt-3 py-3 text-muted text-uppercase\"\n  }, [_vm._v(\"Prerequisite Courses\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"container-zero\"\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('div', {\n    staticClass: \"col-12\"\n  }, [_c('div', {\n    staticClass: \"form-group\"\n  }, [_c('label', [_vm._v(\"Prerequisite courses\")]), _vm._v(\" \"), _c('typeahead', _vm._b({\n    on: {\n      \"select\": _vm.onCourseSelect\n    }\n  }, 'typeahead', {\n    suggestions: _vm.courses,\n    value: []\n  }))], 1)]), _vm._v(\" \"), _vm._l((_vm.prerequisites), function(course) {\n    return _c('div', {\n      staticClass: \"col-12 col-lg-6 mb-3\"\n    }, [_c('course-card', _vm._b({\n      attrs: {\n        \"remove\": \"\"\n      },\n      on: {\n        \"remove\": _vm.onCourseRemove\n      }\n    }, 'course-card', {\n      course: course\n    }))], 1)\n  }), _vm._v(\" \"), (_vm.prerequisites.length === 0) ? _c('div', {\n    staticClass: \"col-12 text-center text-muted\",\n    staticStyle: {\n      \"padding\": \"27px 0\"\n    }\n  }, [_vm._v(\"\\n        No prerequisite courses.\\n      \")]) : _vm._e()], 2)])], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-3d7f0188\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/app/pages/courses/CourseCreate.vue\n// module id = 577\n// module chunks = 20 31"],"sourceRoot":""}