webpackJsonp([17],{1066:function(e,t,i){i(878);var n=i(0)(i(770),i(1099),"data-v-44e4cffb",null);e.exports=n.exports},1086:function(e,t,i){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("container-window",{attrs:{title:"Invites",subtitle:"Invite students,teachers and employees of the institute"}},[n("template",{slot:"sidebar"},[n("sidebar")],1),e._v(" "),n("div",{staticClass:"container-zero my-3 py-3 text-center"},[n("img",{attrs:{src:i(908)}})]),e._v(" "),n("div",{staticClass:"container-fluid text-center"},[n("h2",{staticClass:"text-center my-3 py-3"},[e._v("Invitations")]),e._v(" "),n("p")]),e._v(" "),n("invite-panel",{attrs:{type:"student"}}),e._v(" "),n("invite-panel",{attrs:{type:"teacher"}}),e._v(" "),n("invite-panel",{attrs:{type:"employee"}})],2)},staticRenderFns:[]}},1099:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h6",{staticClass:"split-header text-uppercase text-muted"},[e._v("Invite "+e._s(e.type)+"s")]),e._v(" "),i("div",{staticClass:"container-zero my-3 py-3"},[i("input-textarea",{attrs:{title:"Send email invites",errors:e.errors,placeholder:e.placeholder,subtitle:"yes"},model:{value:e.emails,callback:function(t){e.emails=t},expression:"emails"}},[i("template",{slot:"subtitle"},[i("div",{staticClass:"d-flex flex-row"},[i("div",{staticClass:"flex-auto"},[e._v("An invite will be sent to all "+e._s(e.type)+"s using this list.")]),e._v(" "),i("div",{staticClass:"ml-auto text-muted"},[e._v(e._s(e.invited)+" Invited")])])])],2),e._v(" "),i("div",{staticClass:"text-right mt-3"},[e.emails&&e.emails.trim().length>0?i("div",{staticClass:"btn btn-default",attrs:{role:"button"},on:{click:e.cancel}},[e._v("Reset")]):e._e(),e._v(" "),i("div",{staticClass:"btn btn-primary",attrs:{role:"button"},on:{click:e.sendInvite}},[e._v("Send Invite")])])],1)])},staticRenderFns:[]}},1135:function(e,t,i){var n=i(858);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(444)("3197476a",n,!0)},484:function(e,t,i){i(1135);var n=i(0)(i(808),i(1086),null,null);e.exports=n.exports},770:function(e,t,i){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(3),a=_interopRequireDefault(n),s=i(2),r=_interopRequireDefault(s),l=i(5),o=_interopRequireDefault(l),u=i(4),c=i(39);t.default={name:"InvitePanel",props:{type:{type:String,required:!0}},data:function(){return{invited:0,emails:""}},computed:{placeholder:function(){return"Enter alias address e.g. "+this.type+"@domain.com"}},methods:(0,o.default)({cancel:function(){this.emails=""},sendInvite:function(){var e=this;return(0,r.default)(a.default.mark(function _callee(){var t,i,n,s;return a.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t=e.getArrayFromString(e.emails))){a.next=9;break}if(i=e.validateEmails(t),!i.length){a.next=9;break}return a.next=6,e.store({emails:i,type:e.type});case 6:n=a.sent,s=n.errors,s?e.setErrors(s):(e.invited+=i.length,e.emails="");case 9:case"end":return a.stop()}},_callee,e)}))()},getArrayFromString:function(e){return e.split(/[;,\s\r\n\t]+/g)},validateEmails:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.filter(function(e){return t.test(e)})}},(0,u.mapActions)("invitations",["store"])),mixins:[c.formHelper]}},808:function(e,t,i){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(1066),a=_interopRequireDefault(n),s=i(124),r=_interopRequireDefault(s);t.default={name:"InstituteInvite",data:function(){return{}},components:{InvitePanel:a.default,Sidebar:r.default}}},835:function(e,t,i){t=e.exports=i(443)(void 0),t.push([e.i,".invite-input[data-v-44e4cffb]{padding:rem(20px) 0 rem(10px)}.invite-actions[data-v-44e4cffb]{padding:rem(20px) 0}.btn-default[data-v-44e4cffb]{border:1px solid #9b9b9b}.btn[data-v-44e4cffb]{margin:0 rem(2px);width:rem(100px)}",""])},858:function(e,t,i){t=e.exports=i(443)(void 0),t.push([e.i,"",""])},878:function(e,t,i){var n=i(835);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(444)("1cb555ed",n,!0)},908:function(e,t){e.exports="/app/images/resources/assets/app/assets/settings/invitations.svg?627b10743198288a3ab24322ae72712f"}});
//# sourceMappingURL=17.ad0ff7e1de29785186a5.js.map