{"version":3,"sources":["webpack:///25.45449041dc47d4a413bc.js","webpack:///./resources/assets/app/pages/messages/PeopleDirectory.vue","webpack:///PeopleDirectory.vue","webpack:///./resources/assets/app/pages/messages/PeopleDirectory.vue?360c","webpack:///./resources/assets/app/pages/messages/PeopleDirectory.vue?67c0","webpack:///./resources/assets/app/pages/messages/PeopleDirectory.vue?07ae"],"names":["webpackJsonp","420","module","exports","__webpack_require__","Component","619","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_regenerator","_regenerator2","_toConsumableArray2","_toConsumableArray3","_asyncToGenerator2","_asyncToGenerator3","_extends2","_extends3","_lodash","_lodash2","_vuex","name","data","page","query","persons","methods","onSearch","this","$refs","list","$emit","onLoad","_this","_ref","arguments","length","undefined","_ref$loaded","loaded","_ref$complete","complete","mark","_callee","_ref2","meta","items","_persons","wrap","_context","prev","next","index","sent","splice","apply","concat","pagination","current_page","total_pages","abrupt","stop","goToUser","user","$router","push","params","id","user_id","mapActions","created","646","i","674","content","locals","733","render","_vm","_h","$createElement","_c","_self","attrs","title","subtitle","back","on","$event","go","directives","rawName","expression","ref","staticClass","placeholder","domProps","search","infinite","input","_l","person","key","role","nativeOn","click","staticRenderFns"],"mappings":"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","file":"25.45449041dc47d4a413bc.js","sourcesContent":["webpackJsonp([25,39],{\n\n/***/ 420:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(674)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(619),\n  /* template */\n  __webpack_require__(733),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 619:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _regenerator=__webpack_require__(3);var _regenerator2=_interopRequireDefault(_regenerator);var _toConsumableArray2=__webpack_require__(118);var _toConsumableArray3=_interopRequireDefault(_toConsumableArray2);var _asyncToGenerator2=__webpack_require__(2);var _asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);var _extends2=__webpack_require__(5);var _extends3=_interopRequireDefault(_extends2);\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _lodash=__webpack_require__(115);var _lodash2=_interopRequireDefault(_lodash);\nvar _vuex=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.default=\n\n{\nname:'PeopleDirectory',\n\ndata:function data(){\nreturn{\npage:1,\nquery:'',\npersons:[]};\n\n},\n\nmethods:(0,_extends3.default)({\nonSearch:(0,_lodash2.default)(function onSearch(){\nthis.$refs.list.$emit('reset');\nthis.page=1;\nthis.onLoad();\n},800),\nonLoad:function onLoad(){var _this=this;var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$loaded=_ref.loaded,loaded=_ref$loaded===undefined?function(){return 0;}:_ref$loaded,_ref$complete=_ref.complete,complete=_ref$complete===undefined?function(){return 0;}:_ref$complete;return(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var _ref2,meta,items,_persons;return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(\n_this.index({page:_this.page,query:_this.query}));case 2:_ref2=_context.sent;meta=_ref2.meta;items=_ref2.items;if(!\n\nmeta){_context.next=12;break;}\nif(_this.page===1){\n_this.persons=[];\n}\n\nif(items)(_persons=_this.persons).splice.apply(_persons,[_this.persons.length,0].concat((0,_toConsumableArray3.default)(items)));\n\n_this.page=meta.pagination.current_page+1;if(!(\n\nmeta.pagination.current_page<meta.pagination.total_pages)){_context.next=12;break;}\nloaded();return _context.abrupt('return',\n\ntrue);case 12:\n\n\ncomplete();case 13:case'end':return _context.stop();}}},_callee,_this);}))();\n},\ngoToUser:function goToUser(user){\nthis.$router.push({name:'user.messages',params:{id:user.user_id}});\n}},\n(0,_vuex.mapActions)('people',['index'])),\n\n\ncreated:function created(){\nif(this.persons.length===0)this.index();\n}};\n\n/***/ }),\n\n/***/ 646:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(398)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 674:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(646);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(399)(\"32e736a4\", content, true);\n// Hot Module Replacement\nif(false) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-33f2a1b5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./PeopleDirectory.vue\", function() {\n     var newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-33f2a1b5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./PeopleDirectory.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 733:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('container-window', {\n    attrs: {\n      \"title\": \"People\",\n      \"subtitle\": \"Send direct messages\",\n      \"back\": true\n    },\n    on: {\n      \"back\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }, [_c('searchable-list', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    ref: \"list\",\n    staticClass: \"mt-3\",\n    attrs: {\n      \"placeholder\": \"Start typing...\"\n    },\n    domProps: {\n      \"value\": (_vm.query)\n    },\n    on: {\n      \"search\": _vm.onSearch,\n      \"infinite\": _vm.onLoad,\n      \"input\": function($event) {\n        _vm.query = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, _vm._l((_vm.persons), function(person) {\n    return _c('div', {\n      key: person,\n      staticClass: \"col-12 col-lg-6 mt-3\"\n    }, [_c('user-card', {\n      attrs: {\n        \"user\": person,\n        \"role\": \"button\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.goToUser(person)\n        }\n      }\n    })], 1)\n  }))])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 25.45449041dc47d4a413bc.js","\n/* styles */\nrequire(\"!!../../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"id\\\":1,\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader!../../../../../node_modules/vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-33f2a1b5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!sass-loader!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PeopleDirectory.vue\")\n\nvar Component = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PeopleDirectory.vue\"),\n  /* template */\n  require(\"!!../../../../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-33f2a1b5\\\"}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PeopleDirectory.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/app/pages/messages/PeopleDirectory.vue\n// module id = 420\n// module chunks = 25","<template>\n<container-window title=\"People\" subtitle=\"Send direct messages\" :back=\"true\" @back=\"$router.go(-1)\">\n  <searchable-list v-model=\"query\" placeholder=\"Start typing...\" ref=\"list\" class=\"mt-3\"\n                   @search=\"onSearch\" @infinite=\"onLoad\">\n    <div class=\"row\">\n      <div class=\"col-12 col-lg-6 mt-3\" v-for=\"person in persons\" :key=\"person\">\n        <user-card :user=\"person\" role=\"button\" @click.native=\"goToUser(person)\"></user-card>\n      </div>\n    </div>\n  </searchable-list>\n</container-window>\n</template>\n\n<script lang=\"babel\">\nimport throttle from 'lodash.throttle'\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'PeopleDirectory',\n\n  data () {\n    return {\n      page: 1,\n      query: '',\n      persons: []\n    }\n  },\n\n  methods: {\n    onSearch: throttle(function onSearch () {\n      this.$refs.list.$emit('reset')\n      this.page = 1\n      this.onLoad()\n    }, 800),\n    async onLoad ({ loaded = () => 0, complete = () => 0 } = {}) {\n      const { meta, items } = await this.index({ page: this.page, query: this.query })\n\n      if (meta) {\n        if (this.page === 1) {\n          this.persons = []\n        }\n\n        if (items) this.persons.splice(this.persons.length, 0, ...items)\n\n        this.page = meta.pagination.current_page + 1\n\n        if (meta.pagination.current_page < meta.pagination.total_pages) {\n          loaded()\n\n          return true\n        }\n      }\n      complete()\n    },\n    goToUser (user) {\n      this.$router.push({ name: 'user.messages', params: { id: user.user_id }})\n    },\n    ...mapActions('people', ['index'])\n  },\n\n  created () {\n    if (this.persons.length === 0) this.index()\n  }\n}\n</script>\n\n\n<style lang=\"scss\">\n</style>\n\n\n\n// WEBPACK FOOTER //\n// PeopleDirectory.vue?205a9239","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-33f2a1b5\",\"scoped\":false,\"hasInlineConfig\":true}!./~/sass-loader/lib/loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/app/pages/messages/PeopleDirectory.vue\n// module id = 646\n// module chunks = 25","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-33f2a1b5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./PeopleDirectory.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"32e736a4\", content, true);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-33f2a1b5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./PeopleDirectory.vue\", function() {\n     var newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-33f2a1b5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./PeopleDirectory.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"id\":1,\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader!./~/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-33f2a1b5\",\"scoped\":false,\"hasInlineConfig\":true}!./~/sass-loader/lib/loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./resources/assets/app/pages/messages/PeopleDirectory.vue\n// module id = 674\n// module chunks = 25","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('container-window', {\n    attrs: {\n      \"title\": \"People\",\n      \"subtitle\": \"Send direct messages\",\n      \"back\": true\n    },\n    on: {\n      \"back\": function($event) {\n        _vm.$router.go(-1)\n      }\n    }\n  }, [_c('searchable-list', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.query),\n      expression: \"query\"\n    }],\n    ref: \"list\",\n    staticClass: \"mt-3\",\n    attrs: {\n      \"placeholder\": \"Start typing...\"\n    },\n    domProps: {\n      \"value\": (_vm.query)\n    },\n    on: {\n      \"search\": _vm.onSearch,\n      \"infinite\": _vm.onLoad,\n      \"input\": function($event) {\n        _vm.query = $event\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, _vm._l((_vm.persons), function(person) {\n    return _c('div', {\n      key: person,\n      staticClass: \"col-12 col-lg-6 mt-3\"\n    }, [_c('user-card', {\n      attrs: {\n        \"user\": person,\n        \"role\": \"button\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.goToUser(person)\n        }\n      }\n    })], 1)\n  }))])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-33f2a1b5\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/app/pages/messages/PeopleDirectory.vue\n// module id = 733\n// module chunks = 25"],"sourceRoot":""}