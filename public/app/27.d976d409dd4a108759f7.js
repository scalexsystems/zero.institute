webpackJsonp([27,40],{1017:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("container",{attrs:{title:"Teachers Directory",subtitle:"Explore teachers' information",back:""},on:{back:function(t){e.$router.go(-1)}}},[r("div",{staticClass:"container py-3 teacher-list"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-lg-3"},[r("div",{staticClass:"card card-block"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("checkbox-wrapper",{attrs:{title:"Department"}},e._l(e.departments,function(t){return r("input-box",{directives:[{name:"model",rawName:"v-model",value:e.department,expression:"department"}],attrs:{checkbox:t.id,title:t.name,custom:!1},domProps:{value:e.department},on:{input:function(t){e.department=t}}})}))],1)])])]),e._v(" "),r("div",{staticClass:"col-12 col-lg-9"},[r("input-search",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{"input-class":"form-control-lg"},domProps:{value:e.query},on:{input:[function(t){e.query=t},e.onInput]}}),e._v(" "),r("div",{staticClass:"card"},[r("div",{staticClass:"card-header bg-white d-flex flex-row"},[r("h5",{staticClass:"mb-0"},[e._v(e._s(e.searchText))]),e._v(" "),r("div",{staticClass:"text-muted ml-auto"},[e._v("\n              "+e._s(e.countText)+"\n            ")])]),e._v(" "),r("div",{staticClass:"card-block"},[r("infinite-loader",{staticClass:"row",on:{infinite:e.onInfinite}},e._l(e.teachers,function(e){return r("router-link",{key:e,staticClass:"col-12 col-lg-6 teacher-card mb-3",attrs:{tag:"div",role:"button",to:{name:"teacher.show",params:{uid:e.uid}}}},[r("teacher-card",{attrs:{teacher:e}})],1)}))],1)])],1)])])])},staticRenderFns:[]}},438:function(e,t,r){var n=r(0)(r(748),r(1017),null,null);e.exports=n.exports},508:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(117),a=_interopRequireDefault(n),i=r(3),s=_interopRequireDefault(i),u=r(2),c=_interopRequireDefault(u),o=r(114),l=_interopRequireDefault(o),d=r(7),p=r(408),f=_interopRequireDefault(p),h=r(406),m=_interopRequireDefault(h),v=r(413),_=_interopRequireDefault(v);t.default={data:function(){return{department:[],items:[],query:"",ignoreChanges:!1,page:1}},computed:{countText:function(){var e=this.items;return 1===e.length?"1 "+this.type:e.length+" "+this.type+"s"},searchText:function(){return"All "+this.type+"s"}},methods:{onInput:(0,l.default)(function(){this.page=1,this.fetch()},400),onInfinite:function(e){var t=this,r=e.loaded,n=e.complete;return(0,c.default)(s.default.mark(function _callee(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d.notLastPage,e.next=3,t.fetch();case 3:if(e.t1=e.sent,!(0,e.t0)(e.t1)){e.next=8;break}r(),e.next=9;break;case 8:n();case 9:case"end":return e.stop()}},_callee,t)}))()},fetch:function(){var e=this;return(0,c.default)(s.default.mark(function _callee2(){var t,r,n,i;return s.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.callAPI();case 2:return t=s.sent,r=t.items,n=t.meta,r?1===e.page?e.items=r:(i=e.items).push.apply(i,(0,a.default)(r.filter(function(t){return e.items.findIndex(function(e){return e.id===t.id})<0}))):e.items=[],e.page=(0,d.nextPage)(n),s.abrupt("return",n);case 8:case"end":return s.stop()}},_callee2,e)}))()},go:function(){var e={};this.ignoreChanges||(this.query.trim().length&&(e.q=this.query),this.discipline&&this.discipline.length&&(e.discipline=this.discipline.slice()),this.department.length&&(e.department=this.department.slice()),this.$router.replace({name:this.type+".index",query:e}))},getRouteParams:function(){var e=this;this.ignoreChanges=!0,this.page=1,this.query=this.$route.query.q||"",this.discipline&&(this.discipline=(0,d.toArray)(this.$route.query.discipline||[]).map(d.toInt)),this.department=(0,d.toArray)(this.$route.query.department||[]).map(d.toInt),this.$nextTick(function(){e.ignoreChanges=!1}),this.fetch()}},created:function(){this.getRouteParams()},components:{StudentCard:f.default,TeacherCard:m.default,EmployeeCard:_.default},watch:{discipline:"go",department:"go",$route:"getRouteParams"}}},748:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),a=_interopRequireDefault(n),i=r(2),s=_interopRequireDefault(i),u=r(5),c=_interopRequireDefault(u),o=r(4),l=r(508),d=_interopRequireDefault(l);t.default={name:"TeacherDirectory",computed:(0,c.default)({type:function(){return"teacher"},teachers:function(){return this.items}},(0,o.mapGetters)({departments:"departments/academic"})),methods:(0,c.default)({callAPI:function(){var e=this;return(0,s.default)(a.default.mark(function _callee(){var t,r,n;return a.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.index({page:e.page,q:e.query,department:e.department});case 2:return t=a.sent,r=t.teachers,n=t.meta,a.abrupt("return",{items:r,meta:n});case 6:case"end":return a.stop()}},_callee,e)}))()}},(0,o.mapActions)("teachers",["index"])),mixins:[d.default]}}});
//# sourceMappingURL=27.d976d409dd4a108759f7.js.map