webpackJsonp([32],{455:function(e,t,r){var s=r(0)(r(652),r(686),null,null);e.exports=s.exports},652:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(3),a=_interopRequireDefault(s),i=r(2),n=_interopRequireDefault(i),u=r(5),o=_interopRequireDefault(u),c=r(4),l=r(39),p=r(50),m=_interopRequireDefault(p),f=r(7);t.default={name:"GroupCreate",data:function(){return{attributes:{name:"",private:!1,description:"",members:[]},members:[],suggestions:[]}},methods:(0,o.default)({onSubmit:function(){var e=this;return(0,n.default)(a.default.mark(function _callee(){var t,r,s;return a.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.$refs.submit&&e.$refs.submit.$el.classList.add("disabled"),a.next=3,e.create(e.attributes);case 3:t=a.sent,r=t.errors,s=t.group,e.$refs.submit&&e.$refs.submit.$el.classList.remove("disabled"),r&&e.setErrors(r),s&&(e.clearErrors(),e.attributes=e.$options.data().attributes,e.$router.push({name:"group.messages",params:{id:s.id}}));case 9:case"end":return a.stop()}},_callee,e)}))()},onMemberSelect:function(e){var t=e.user_id;this.attributes.members.indexOf(t)<0&&(this.attributes.members.push(t),this.members.push((0,f.clone)(e)))},onSearch:(0,m.default)(function(){var e=(0,n.default)(a.default.mark(function _callee2(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.query({q:r});case 2:e=s.sent,t=e.items,this.suggestions=t||[];case 5:case"end":return s.stop()}},_callee2,this)}));return function(){return e.apply(this,arguments)}}(),400)},(0,c.mapActions)("people",{query:"index"}),(0,c.mapActions)("groups",{create:"store"})),created:function(){this.onSearch()},mixins:[l.formHelper]}},686:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("container-window",{attrs:{title:"Create Group",subtitle:"Create a group, add members & start your own community.",back:!0},on:{back:function(t){e.$router.push({name:"group.index"})}}},[r("template",{slot:"buttons"},[r("input-button",{ref:"submit",attrs:{type:"submit"},on:{click:function(t){t.preventDefault(),e.onSubmit(t)}}},[e._v("Create")])],1),e._v(" "),r("form",{staticClass:"container my-3",on:{submit:function(t){t.preventDefault(),e.onSubmit(t)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-lg-8 offset-lg-2"},[r("input-text",{attrs:{title:"Name of the group",errors:e.errors,autofocus:"",required:""},model:{value:e.attributes.name,callback:function(t){e.attributes.name=t},expression:"attributes.name"}}),e._v(" "),r("checkbox-wrapper",{attrs:{title:"Group Type",required:""}},[r("input-box",{staticClass:"form-check-inline",attrs:{title:"Public",radio:!1},model:{value:e.attributes.private,callback:function(t){e.attributes.private=t},expression:"attributes.private"}}),e._v(" "),r("input-box",{staticClass:"form-check-inline",attrs:{title:"Private",radio:!0},model:{value:e.attributes.private,callback:function(t){e.attributes.private=t},expression:"attributes.private"}})],1),e._v(" "),r("input-textarea",{attrs:{title:"Description",errors:e.errors},model:{value:e.attributes.description,callback:function(t){e.attributes.description=t},expression:"attributes.description"}}),e._v(" "),r("div",{staticClass:"form-group"},[r("label",[e._v("Add Members")]),e._v(" "),r("typeahead",e._b({attrs:{title:"Members",component:"select-option-user"},on:{search:e.onSearch,select:e.onMemberSelect}},"typeahead",{suggestions:e.suggestions,value:[]}))],1)],1),e._v(" "),r("div",{staticClass:"col-12 col-lg-8 offset-lg-2"},[r("div",{staticClass:"row"},e._l(e.members,function(e){return r("div",{key:e,staticClass:"col-12 col-lg-6 mb-3"},[r("user-card",{attrs:{user:e}})],1)}))])])])],2)},staticRenderFns:[]}}});
//# sourceMappingURL=32.f563bd38fba3f6b0d276.js.map