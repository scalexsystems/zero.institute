webpackJsonp([30,40],{416:function(e,t,r){var s=r(0)(r(608),r(641),null,null);e.exports=s.exports},608:function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(3),i=_interopRequireDefault(s),a=r(2),n=_interopRequireDefault(a),o=r(5),u=_interopRequireDefault(o),l=r(4),c=r(39),p=r(114),m=_interopRequireDefault(p),d=r(7);t.default={name:"GroupCreate",data:function(){return{attributes:{name:"",private:!1,description:"",members:[]},members:[],suggestions:[]}},methods:(0,u.default)({onSubmit:function(){var e=this;return(0,n.default)(i.default.mark(function _callee(){var t,r,s;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.$refs.submit&&e.$refs.submit.$el.classList.add("disabled"),i.next=3,e.create(e.attributes);case 3:t=i.sent,r=t.errors,s=t.group,e.$refs.submit&&e.$refs.submit.$el.classList.remove("disabled"),r&&e.setErrors(r),s&&(e.clearErrors(),e.attributes=e.$options.data().attributes,e.$router.push({name:"group.messages",params:{id:s.id}}));case 9:case"end":return i.stop()}},_callee,e)}))()},onMemberSelect:function(e){var t=e.user_id;this.attributes.members.indexOf(t)<0&&(this.attributes.members.push(t),this.members.push((0,d.clone)(e)))},onSearch:(0,m.default)(function(){var e=(0,n.default)(i.default.mark(function _callee2(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.query({q:r});case 2:e=s.sent,t=e.items,this.suggestions=t||[];case 5:case"end":return s.stop()}},_callee2,this)}));return function(){return e.apply(this,arguments)}}(),400)},(0,l.mapActions)("people",{query:"index"}),(0,l.mapActions)("groups",{create:"store"})),created:function(){this.onSearch()},mixins:[c.formHelper]}},641:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("container-window",{attrs:{title:"Create Group",subtitle:"Create a group, add members & start your own community.",back:!0},on:{back:function(t){e.$router.push({name:"group.index"})}}},[r("template",{slot:"buttons"},[r("input-button",{ref:"submit",attrs:{type:"submit"},on:{click:function(t){t.preventDefault(),e.onSubmit(t)}}},[e._v("Create")])],1),e._v(" "),r("form",{staticClass:"container my-3",on:{submit:function(t){t.preventDefault(),e.onSubmit(t)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-lg-8 offset-lg-2"},[r("input-text",{directives:[{name:"model",rawName:"v-model",value:e.attributes.name,expression:"attributes.name"}],attrs:{title:"Name of the group",errors:e.errors,autofocus:"",required:""},domProps:{value:e.attributes.name},on:{input:function(t){e.attributes.name=t}}}),e._v(" "),r("checkbox-wrapper",{attrs:{title:"Group Type",required:""}},[r("input-box",{directives:[{name:"model",rawName:"v-model",value:e.attributes.private,expression:"attributes.private"}],staticClass:"form-check-inline",attrs:{title:"Public",radio:!1},domProps:{value:e.attributes.private},on:{input:function(t){e.attributes.private=t}}}),e._v(" "),r("input-box",{directives:[{name:"model",rawName:"v-model",value:e.attributes.private,expression:"attributes.private"}],staticClass:"form-check-inline",attrs:{title:"Private",radio:!0},domProps:{value:e.attributes.private},on:{input:function(t){e.attributes.private=t}}})],1),e._v(" "),r("input-textarea",{directives:[{name:"model",rawName:"v-model",value:e.attributes.description,expression:"attributes.description"}],attrs:{title:"Description",errors:e.errors},domProps:{value:e.attributes.description},on:{input:function(t){e.attributes.description=t}}}),e._v(" "),r("div",{staticClass:"form-group"},[r("label",[e._v("Add Members")]),e._v(" "),r("typeahead",e._b({attrs:{title:"Members",component:"select-option-user"},on:{search:e.onSearch,select:e.onMemberSelect}},"typeahead",{suggestions:e.suggestions,value:[]}))],1)],1),e._v(" "),r("div",{staticClass:"col-12 col-lg-8 offset-lg-2"},[r("div",{staticClass:"row"},e._l(e.members,function(e){return r("div",{staticClass:"col-12 col-lg-6 mb-3"},[r("user-card",{attrs:{user:e}})],1)}))])])])],2)},staticRenderFns:[]}}});
//# sourceMappingURL=30.aca5dcb62981541f0943.js.map