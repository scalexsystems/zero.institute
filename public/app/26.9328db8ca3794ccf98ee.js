webpackJsonp([26],{1080:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("container-window",t._b({attrs:{back:""},on:{back:function(e){t.$router.go(-1)}}},"container-window",{title:t.title,subtitle:t.subtitle}),[r("template",{slot:"buttons"},[t.isAdmin?r("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"group.edit",params:{id:t.group.id}},role:"button"}},[t._v("Edit")]):t._e()],1),t._v(" "),t.group?r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-lg-8 offset-lg-2"},[r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-12 my-3 text-center"},[t.isAdmin?r("photo-uploader",{staticClass:"p-group-photo round",attrs:{dest:"groups/"+t.group.id+"/photo"},on:{uploaded:function(e){t.find(t.group.id)}}},[r("img",{staticClass:"rounded-circle p-group-photo",attrs:{src:t.group.photo}})]):r("img",{staticClass:"rounded-circle p-group-photo",attrs:{src:t.group.photo}})],1),t._v(" "),r("div",{staticClass:"col-12 mb-3 text-center"},[t.group.private?r("span",{staticClass:"alert alert-danger p-group-privacy-tag"},[t._v("Private Group")]):r("span",{staticClass:"alert alert-info p-group-privacy-tag"},[t._v("Public Group")])]),t._v(" "),r("div",{staticClass:"col-12 mb-3 text-center"},[r("h2",[t._v(t._s(t.group.name))]),t._v(" "),r("p",{staticClass:"text-muted"},[t._v(t._s(t.group.description))])]),t._v(" "),t.group.is_member?t._e():r("div",{staticClass:"col-12 text-center mb-3"},[r("input-button",{on:{click:t.joinGroup}},[t._v("Join Group")])],1)]),t._v(" "),r("infinite-loader",{ref:"is",staticClass:"row",on:{infinite:t.fetchMembers}},[r("div",{staticClass:"col-12 mb-3"},[r("search",{staticClass:"form-control-lg",attrs:{placeholder:"Find members..."},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),t._v(" "),r("div",{staticClass:"col-12 mb-3 text-center"},[r("small",[t._v(t._s(t.group.member_count_text))])]),t._v(" "),t._l(t.groupMembers,function(t){return r("div",{key:t,staticClass:"col-12 col-lg-6 mb-3"},[r("user-card",{attrs:{user:t}})],1)})],2)],1)])]):t._e()],2)},staticRenderFns:[]}},464:function(t,e,r){r(866);var i=r(0)(r(788),r(1080),null,null);t.exports=i.exports},548:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=r(4);e.default={props:{id:{type:Number,required:!0}},computed:(0,o.default)({group:function(){return this.groupById(this.id)}},(0,s.mapGetters)("groups",["groupById"])),methods:(0,s.mapActions)("groups",{find:"find"}),created:function(){this.groupById(this.id)||this.find(this.id)},watch:{id:function(t){this.groupById(t)||this.find(t)}}}},653:function(t,e,r){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),o=_interopRequireDefault(i),s=r(2),u=_interopRequireDefault(s),n=r(119),a=_interopRequireDefault(n),c=r(5),p=_interopRequireDefault(c),l=r(4),d=r(7);e.default={data:function(){return{membersRequestSent:!1}},computed:(0,p.default)({groupMembers:function(){var t=this.membersByGroupId(this.id);return t?[].concat((0,a.default)(t)).sort(function(t,e){return t.name.localeCompare(e.name)}):[]}},(0,l.mapGetters)("groups",["membersByGroupId"])),methods:(0,p.default)({fetchMembers:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.loaded,i=void 0===r?function(){return 0}:r,s=e.complete,n=void 0===s?function(){return 0}:s;return(0,u.default)(o.default.mark(function _callee(){var e,r;return o.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t.membersRequestSent!==!0){o.next=3;break}return i(),o.abrupt("return",!0);case 3:if(t.group){o.next=6;break}return n(),o.abrupt("return",!1);case 6:return t.membersRequestSent=!0,o.next=9,t.fetchMembersAPI({group:t.group});case 9:if(e=o.sent,r=e.meta,t.membersRequestSent=!1,!(0,d.notLastPage)(r)){o.next=15;break}return i(),o.abrupt("return",!0);case 15:n();case 16:case"end":return o.stop()}},_callee,t)}))()}},(0,l.mapActions)("groups",{fetchMembersAPI:"members"})),created:function(){this.fetchMembers()},watch:{group:function(t,e){var r=this;e&&t.id!==e.id&&(this.membersRequestSent=!1,this.$refs&&this.$refs.is&&this.$refs.is.$emit("reset")),this.$nextTick(function(){return r.fetchMembers()})}}}},788:function(t,e,r){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),o=_interopRequireDefault(i),s=r(2),u=_interopRequireDefault(s),n=r(5),a=_interopRequireDefault(n),c=r(4),p=r(548),l=_interopRequireDefault(p),d=r(653),f=_interopRequireDefault(d);e.default={name:"Group",data:function(){return{query:""}},computed:{title:function(){return this.group?this.group.name:"..."},subtitle:function(){return this.group?this.group.description:"..."},photo:function(){return this.group?this.group.photo:""},isAdmin:function(){return!!this.group&&this.group.is_admin}},methods:(0,a.default)({joinGroup:function(t){var e=this;return(0,u.default)(o.default.mark(function _callee(){var r,i;return o.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.target.classList.add("disabled"),o.next=3,e.join(e.group.id);case 3:r=o.sent,i=r.group,t.target.classList.remove("disabled"),i&&e.$router.push({name:"group.messages",params:{id:e.group.id}});case 7:case"end":return o.stop()}},_callee,e)}))()}},(0,c.mapActions)("groups",["join"])),mixins:[l.default,f.default]}},823:function(t,e,r){e=t.exports=r(443)(void 0),e.push([t.i,".p-group-photo{width:11.42857rem;height:11.42857rem;-o-object-fit:cover;object-fit:cover}.p-group-privacy-tag{padding:.5rem;font-size:.875rem;padding:.3rem}",""])},866:function(t,e,r){var i=r(823);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);r(444)("2bc58c8a",i,!0)}});
//# sourceMappingURL=26.9328db8ca3794ccf98ee.js.map