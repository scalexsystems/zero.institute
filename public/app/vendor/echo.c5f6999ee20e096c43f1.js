webpackJsonp([38],{101:function(t,e,n){"use strict";function parseChannel(t){t=i[t]||t||"";var e=/^(private|public|presence):(.*)$/,n=e.exec(t)||[],r=n[1],o=n[2];if(!r||!o)throw new Error("Invalid channel name: "+t);return{type:{private:"private",presence:"join",public:"channel"}[r],name:o}}function normalize(t,e,n){"namespace"in n&&(""===t||"."===n.namespace[0]?t=n.namespace:t+="."+n.namespace),"."!==t[t.length-1]&&(t+=".");var r=["namespace"];return each(n,function(n,o){r.indexOf(o)>-1||("object"==typeof n?e=normalize(""+t+o,e,n):e[""+t+o]=n)}),e}function each(t,e){return Array.isArray(t)?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}function only(t,e){var n={};return e.forEach(function(e){e in t&&(n[e]=t[e])}),n}function toArray(t){return Array.isArray(t)?t:[]}Object.defineProperty(e,"__esModule",{value:!0});var r=n(102),o=n.n(r),i={},s={version:"0.1.4",install:function(t,e){var n=new o.a(e);t.mixin({beforeCreate:function(){this._channels={},this._echoEvents=normalize(e.namespace||"",{},this.$options.echo||{})},created:function(){var t=this;"channel"in this.$options&&toArray(this.$options.channel).forEach(function(e){return t.$channel(e)})},beforeDestroy:function(){var t=this;Object.keys(this._channels).forEach(function(e){return t.$stopChannel(e)}),delete this._channels,delete this._echoEvents}}),t.echo=n,t.prototype.$echo=n,t.prototype.$echoAlias=function(t,e){i[e]=t},t.prototype.$stopChannel=function(t){var e;try{e=parseChannel(t).name}catch(n){e=t}if(e in this._channels){this.$debug&&this.$debug("[echo] Unsubscribe channel: "+e);var n=this._channels[e],r=n.channel;each(n.handlers,function(t,e){r.removeListener(e,t)}),delete this._channels[e]}},t.prototype.$channel=function(t,e,r){var o=this,i=parseChannel(t),s=i.name,a=i.type;if(!(s in this._channels)){var c=Array.isArray(e)?only(this._echoEvents,e):this._echoEvents,u={channel:n[a].call(n,s),handlers:{}};this.$debug&&this.$debug("[echo] Subscribe channel: "+s),each(c,function(t,e){u.handlers[e]=function(n){o.$debug&&o.$debug("[echo] "+e+" on "+s+":"+a,n),t.call(o,n,o.$store,o.$root,r)},o.$debug&&o.$debug("[echo] Listen "+e+" on "+s+":"+a),u.channel.listen(e,u.handlers[e])}),this._channels[s]=u}}}};e.default=s},102:function(t,e,n){(function(e,n){var r=(function(){function AwaitValue(t){this.value=t}function AsyncGenerator(t){function send(t,r){return new Promise(function(o,i){var s={key:t,arg:r,resolve:o,reject:i,next:null};n?n=n.next=s:(e=n=s,resume(t,r))})}function resume(e,n){try{var r=t[e](n),o=r.value;o instanceof AwaitValue?Promise.resolve(o.value).then(function(t){resume("next",t)},function(t){resume("throw",t)}):settle(r.done?"return":"normal",r.value)}catch(t){settle("throw",t)}}function settle(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}e=e.next,e?resume(e.key,e.arg):n=null}var e,n;this._invoke=send,"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this}),AsyncGenerator.prototype.next=function(t){return this._invoke("next",t)},AsyncGenerator.prototype.throw=function(t){return this._invoke("throw",t)},AsyncGenerator.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new AsyncGenerator(t.apply(this,arguments))}},await:function(t){return new AwaitValue(t)}}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),o=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},c=function(){function Connector(t){r(this,Connector),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",broadcaster:"pusher",csrfToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(t),this.connect()}return o(Connector,[{key:"setOptions",value:function(t){return this.options=i(this._defaultOptions,t),this.csrfToken()&&(this.options.auth.headers["X-CSRF-TOKEN"]=this.csrfToken()),t}},{key:"csrfToken",value:function(){var t=void 0;return window&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&(t=document.querySelector('meta[name="csrf-token"]'))?t.getAttribute("content"):null}}]),Connector}(),u=function(){function Channel(){r(this,Channel)}return o(Channel,[{key:"notification",value:function(t){return this.listen(".Illuminate.Notifications.Events.BroadcastNotificationCreated",t)}},{key:"listenForWhisper",value:function(t,e){return this.listen(".client-"+t,e)}}]),Channel}(),l=function(){function EventFormatter(t){r(this,EventFormatter),this.setNamespace(t)}return o(EventFormatter,[{key:"format",value:function(t){return this.namespace&&(t="\\"!=t.charAt(0)&&"."!=t.charAt(0)?this.namespace+"."+t:t.substr(1)),t.replace(/\./g,"\\")}},{key:"setNamespace",value:function(t){this.namespace=t}}]),EventFormatter}(),h=function(t){function PusherChannel(t,e,n){r(this,PusherChannel);var o=a(this,(PusherChannel.__proto__||Object.getPrototypeOf(PusherChannel)).call(this));return o.name=e,o.pusher=t,o.options=n,o.eventFormatter=new l(o.options.namespace),o.subscribe(),o}return s(PusherChannel,t),o(PusherChannel,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"stopListening",value:function(t){return this.subscription.unbind(this.eventFormatter.format(t)),this}},{key:"on",value:function(t,e){return this.subscription.bind(t,e),this}}]),PusherChannel}(u),p=function(t){function PusherPrivateChannel(){return r(this,PusherPrivateChannel),a(this,(PusherPrivateChannel.__proto__||Object.getPrototypeOf(PusherPrivateChannel)).apply(this,arguments))}return s(PusherPrivateChannel,t),o(PusherPrivateChannel,[{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-"+t,e),this}}]),PusherPrivateChannel}(h),f=function(t){function PusherPresenceChannel(){return r(this,PusherPresenceChannel),a(this,(PusherPresenceChannel.__proto__||Object.getPrototypeOf(PusherPresenceChannel)).apply(this,arguments))}return s(PusherPresenceChannel,t),o(PusherPresenceChannel,[{key:"here",value:function(t){return this.on("pusher:subscription_succeeded",function(e){t(Object.keys(e.members).map(function(t){return e.members[t]}))}),this}},{key:"joining",value:function(t){return this.on("pusher:member_added",function(e){t(e.info)}),this}},{key:"leaving",value:function(t){return this.on("pusher:member_removed",function(e){t(e.info)}),this}},{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-"+t,e),this}}]),PusherPresenceChannel}(h),d=function(t){function SocketIoChannel(t,e,n){r(this,SocketIoChannel);var o=a(this,(SocketIoChannel.__proto__||Object.getPrototypeOf(SocketIoChannel)).call(this));return o.events={},o.name=e,o.socket=t,o.options=n,o.eventFormatter=new l(o.options.namespace),o.subscribe(),o.configureReconnector(),o}return s(SocketIoChannel,t),o(SocketIoChannel,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"on",value:function(t,e){var n=this,r=function(t,r){n.name==t&&e(r)};this.socket.on(t,r),this.bind(t,r)}},{key:"configureReconnector",value:function(){var t=this,e=function(){t.subscribe()};this.socket.on("reconnect",e),this.bind("reconnect",e)}},{key:"bind",value:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)}},{key:"unbind",value:function(){var t=this;Object.keys(this.events).forEach(function(e){t.events[e].forEach(function(n){t.socket.removeListener(e,n)}),delete t.events[e]})}}]),SocketIoChannel}(u),y=function(t){function SocketIoPrivateChannel(){return r(this,SocketIoPrivateChannel),a(this,(SocketIoPrivateChannel.__proto__||Object.getPrototypeOf(SocketIoPrivateChannel)).apply(this,arguments))}return s(SocketIoPrivateChannel,t),o(SocketIoPrivateChannel,[{key:"whisper",value:function(t,e){return this.socket.emit("client event",{channel:this.name,event:"client-"+t,data:e}),this}}]),SocketIoPrivateChannel}(d),g=function(t){function SocketIoPresenceChannel(){return r(this,SocketIoPresenceChannel),a(this,(SocketIoPresenceChannel.__proto__||Object.getPrototypeOf(SocketIoPresenceChannel)).apply(this,arguments))}return s(SocketIoPresenceChannel,t),o(SocketIoPresenceChannel,[{key:"here",value:function(t){return this.on("presence:subscribed",function(e){t(e.map(function(t){return t.user_info}))}),this}},{key:"joining",value:function(t){return this.on("presence:joining",function(e){return t(e.user_info)}),this}},{key:"leaving",value:function(t){return this.on("presence:leaving",function(e){return t(e.user_info)}),this}}]),SocketIoPresenceChannel}(y),m=function(t){function PusherConnector(){var t;r(this,PusherConnector);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=a(this,(t=PusherConnector.__proto__||Object.getPrototypeOf(PusherConnector)).call.apply(t,[this].concat(n)));return i.channels={},i}return s(PusherConnector,t),o(PusherConnector,[{key:"connect",value:function(){this.pusher=new Pusher(this.options.key,this.options)}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new h(this.pusher,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new p(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new f(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach(function(t,n){e.channels[t]&&(e.channels[t].unsubscribe(),delete e.channels[t])})}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}}]),PusherConnector}(c),v=function(t){function SocketIoConnector(){var t;r(this,SocketIoConnector);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=a(this,(t=SocketIoConnector.__proto__||Object.getPrototypeOf(SocketIoConnector)).call.apply(t,[this].concat(n)));return i.channels={},i}return s(SocketIoConnector,t),o(SocketIoConnector,[{key:"connect",value:function(){return this.socket=e(this.options.host,this.options),this.socket}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new d(this.socket,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new y(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new g(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach(function(t){e.channels[t]&&(e.channels[t].unsubscribe(),delete e.channels[t])})}},{key:"socketId",value:function(){return this.socket.id}}]),SocketIoConnector}(c),b=function(){function Echo(t){r(this,Echo),this.options=t,"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof n&&this.registerjQueryAjaxSetup(),"pusher"==this.options.broadcaster?this.connector=new m(this.options):"socket.io"==this.options.broadcaster&&(this.connector=new v(this.options))}return o(Echo,[{key:"registerVueRequestInterceptor",value:function(){var t=this;Vue.http.interceptors.push(function(e,n){t.socketId()&&e.headers.set("X-Socket-ID",t.socketId()),n()})}},{key:"registerAxiosRequestInterceptor",value:function(){var t=this;axios.interceptors.request.use(function(e){return t.socketId()&&(e.headers["X-Socket-Id"]=t.socketId()),e})}},{key:"registerjQueryAjaxSetup",value:function(){var t=this;void 0!==n.ajax&&n.ajaxSetup({beforeSend:function(e){t.socketId()&&e.setRequestHeader("X-Socket-Id",t.socketId())}})}},{key:"listen",value:function(t,e,n){return this.connector.listen(t,e,n)}},{key:"channel",value:function(t){return this.connector.channel(t)}},{key:"private",value:function(t){return this.connector.privateChannel(t)}},{key:"join",value:function(t){return this.connector.presenceChannel(t)}},{key:"leave",value:function(t){this.connector.leave(t)}},{key:"socketId",value:function(){return this.connector.socketId()}}]),Echo}();t.exports=b}).call(e,n(134),n(50))},110:function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},127:function(t,e,n){(function(t){function polling(e){var n=!1,s=!1,a=!1!==e.jsonp;if(t.location){var c="https:"===location.protocol,u=location.port;u||(u=c?443:80),n=e.hostname!==location.hostname||u!==e.port,s=e.secure!==c}if(e.xdomain=n,e.xscheme=s,"open"in new r(e)&&!e.forceJSONP)return new o(e);if(!a)throw new Error("JSONP disabled");return new i(e)}var r=n(82),o=n(318),i=n(317),s=n(319);e.polling=polling,e.websocket=s}).call(e,n(1))},128:function(t,e,n){function Polling(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),r.call(this,t)}var r=n(81),o=n(84),i=n(34),s=n(54),a=n(142),c=n(59)("engine.io-client:polling");t.exports=Polling;var u=function(){return null!=new(n(82))({xdomain:!1}).responseType}();s(Polling,r),Polling.prototype.name="polling",Polling.prototype.doOpen=function(){this.poll()},Polling.prototype.pause=function(t){function pause(){c("paused"),e.readyState="paused",t()}var e=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(c("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){c("pre-pause polling complete"),--n||pause()})),this.writable||(c("we are currently writing - waiting to pause"),n++,this.once("drain",function(){c("pre-pause writing complete"),--n||pause()}))}else pause()},Polling.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Polling.prototype.onData=function(t){var e=this;c("polling got data %s",t);var n=function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)};i.decodePayload(t,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},Polling.prototype.doClose=function(){function close(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),close()):(c("transport not open - deferring close"),this.once("open",close))},Polling.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};i.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},Polling.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(this.hostname.indexOf(":")!==-1?"["+this.hostname+"]":this.hostname)+n+this.path+t}},129:function(t,e,n){(function(e){function hasBinary(t){function _hasBinary(t){if(!t)return!1;if(e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer||e.Blob&&t instanceof Blob||e.File&&t instanceof File)return!0;if(r(t)){for(var n=0;n<t.length;n++)if(_hasBinary(t[n]))return!0}else if(t&&"object"==typeof t){t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON());for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&_hasBinary(t[o]))return!0}return!1}return _hasBinary(t)}var r=n(131);t.exports=hasBinary}).call(e,n(1))},130:function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},131:function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},132:function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");o!=-1&&i!=-1&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=n.exec(t||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return o!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},134:function(t,e,n){function lookup(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o=r(t),c=o.source,u=o.id,l=o.path,h=a[u]&&l in a[u].nsps,p=e.forceNew||e["force new connection"]||!1===e.multiplex||h;return p?(s("ignoring socket cache for %s",c),n=i(c,e)):(a[u]||(s("new io instance for %s",c),a[u]=i(c,e)),n=a[u]),o.query&&!e.query?e.query=o.query:e&&"object"==typeof e.query&&(e.query=encodeQueryString(e.query)),n.socket(o.path,e)}function encodeQueryString(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}var r=n(392),o=n(85),i=n(135),s=n(61)("socket.io-client");t.exports=e=lookup;var a=e.managers={};e.protocol=o.protocol,e.connect=lookup,e.Manager=n(135),e.Socket=n(137)},135:function(t,e,n){function Manager(t,e){if(!(this instanceof Manager))return new Manager(t,e);t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=e.autoConnect!==!1,this.autoConnect&&this.open()}var r=n(314),o=n(137),i=n(40),s=n(85),a=n(136),c=n(110),u=n(61)("socket.io-client:manager"),l=n(130),h=n(267),p=Object.prototype.hasOwnProperty;t.exports=Manager,Manager.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)p.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},Manager.prototype.updateSocketIds=function(){for(var t in this.nsps)p.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},i(Manager.prototype),Manager.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},Manager.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},Manager.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},Manager.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},Manager.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},Manager.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Manager.prototype.open=Manager.prototype.connect=function(t,e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=a(n,"open",function(){o.onopen(),t&&t()}),s=a(n,"error",function(e){if(u("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var l=setTimeout(function(){u("connect attempt timed out after %d",c),i.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(i),this.subs.push(s),this},Manager.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(t,"ping",c(this,"onping"))),this.subs.push(a(t,"pong",c(this,"onpong"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Manager.prototype.ondata=function(t){this.decoder.add(t)},Manager.prototype.ondecoded=function(t){this.emit("packet",t)},Manager.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},Manager.prototype.socket=function(t,e){function onConnecting(){~l(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[t];if(!n){n=new o(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",onConnecting),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&onConnecting()}return n},Manager.prototype.destroy=function(t){var e=l(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},Manager.prototype.packet=function(t){u("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},Manager.prototype.cleanup=function(){u("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Manager.prototype.close=Manager.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Manager.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},Manager.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},136:function(t,e){function on(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}t.exports=on},137:function(t,e,n){function Socket(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var r=n(85),o=n(40),i=n(399),s=n(136),a=n(110),c=n(61)("socket.io-client:socket"),u=n(129);t.exports=Socket;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=o.prototype.emit;o(Socket.prototype),Socket.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},Socket.prototype.open=Socket.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},Socket.prototype.send=function(){var t=i(arguments);return t.unshift("message"),this.emit.apply(this,t),this},Socket.prototype.emit=function(t){if(l.hasOwnProperty(t))return h.apply(this,arguments),this;var e=i(arguments),n=r.EVENT;u(e)&&(n=r.BINARY_EVENT);var o={type:n,data:e};return o.options={},o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),delete this.flags,this},Socket.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},Socket.prototype.onopen=function(){c("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:r.CONNECT,query:this.query}):this.packet({type:r.CONNECT}))},Socket.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},Socket.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(t);break;case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:this.onack(t);break;case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},Socket.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},Socket.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var o=i(arguments);c("sending ack %j",o);var s=u(o)?r.BINARY_ACK:r.ACK;e.packet({type:s,id:t,data:o})}}},Socket.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},Socket.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},Socket.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},Socket.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},Socket.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},Socket.prototype.close=Socket.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},Socket.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},138:function(t,e,n){(function(e){function isBuf(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=isBuf}).call(e,n(1))},142:function(t,e,n){"use strict";function encode(t){var e="";do{e=o[t%i]+e,t=Math.floor(t/i)}while(t>0);return e}function decode(t){var e=0;for(c=0;c<t.length;c++)e=e*i+s[t.charAt(c)];return e}function yeast(){var t=encode(+new Date);return t!==r?(a=0,r=t):t+"."+encode(a++)}for(var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,s={},a=0,c=0;c<i;c++)s[o[c]]=c;yeast.encode=encode,yeast.decode=decode,t.exports=yeast},158:function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function __webpack_require__(n){if(e[n])return e[n].exports;var r=e[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}var e={};return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.p="",__webpack_require__(0)}([function(t,e,n){"use strict";var r=n(1);t.exports=r.default},function(t,e,n){"use strict";function checkAppKey(t){if(null===t||void 0===t)throw"You must pass your app key when you instantiate Pusher."}var r=n(2),o=n(9),i=n(23),s=n(38),a=n(39),c=n(40),u=n(12),l=n(5),h=n(62),p=n(8),f=n(42),d=function(){function Pusher(t,e){var n=this;checkAppKey(t),e=e||{},this.key=t,this.config=o.extend(h.getGlobalConfig(),e.cluster?h.getClusterConfig(e.cluster):{},e),this.channels=f.default.createChannels(),this.global_emitter=new i.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new s.default(this.key,this.sessionID,{cluster:this.config.cluster,features:Pusher.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:a.default.INFO,version:l.default.VERSION}),this.config.disableStats||(this.timelineSender=f.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+r.default.TimelineTransport.name}));var u=function(t){var e=o.extend({},n.config,t);return c.build(r.default.getDefaultStrategy(e),e)};this.connection=f.default.createConnectionManager(this.key,o.extend({getStrategy:u,timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){n.subscribeAll(),n.timelineSender&&n.timelineSender.send(n.connection.isEncrypted())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var r=n.channel(t.channel);r&&r.handleEvent(t.event,t.data)}e||n.global_emitter.emit(t.event,t.data)}),this.connection.bind("connecting",function(){n.channels.disconnect()}),this.connection.bind("disconnected",function(){n.channels.disconnect()}),this.connection.bind("error",function(t){p.default.warn("Error",t)}),Pusher.instances.push(this),this.timeline.info({instances:Pusher.instances.length}),Pusher.isReady&&this.connect()}return Pusher.ready=function(){Pusher.isReady=!0;for(var t=0,e=Pusher.instances.length;t<e;t++)Pusher.instances[t].connect()},Pusher.log=function(t){Pusher.logToConsole&&window.console&&window.console.log&&window.console.log(t)},Pusher.getClientFeatures=function(){return o.keys(o.filterObject({ws:r.default.Transports.ws},function(t){return t.isSupported({})}))},Pusher.prototype.channel=function(t){return this.channels.find(t)},Pusher.prototype.allChannels=function(){return this.channels.all()},Pusher.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isEncrypted(),e=this.timelineSender;this.timelineSenderTimer=new u.PeriodicTimer(6e4,function(){e.send(t)})}},Pusher.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},Pusher.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},Pusher.prototype.unbind=function(t,e,n){return this.global_emitter.unbind(t,e,n),this},Pusher.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},Pusher.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},Pusher.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},Pusher.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},Pusher.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},Pusher.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},Pusher.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},Pusher.prototype.isEncrypted=function(){return"https:"===r.default.getProtocol()||Boolean(this.config.encrypted)},Pusher.instances=[],Pusher.isReady=!1,Pusher.logToConsole=!1,Pusher.Runtime=r.default,Pusher.ScriptReceivers=r.default.ScriptReceivers,Pusher.DependenciesReceivers=r.default.DependenciesReceivers,Pusher.auth_callbacks=r.default.auth_callbacks,Pusher}();e.__esModule=!0,e.default=d,r.default.setup(d)},function(t,e,n){"use strict";var r=n(3),o=n(7),i=n(14),s=n(15),a=n(16),c=n(4),u=n(17),l=n(18),h=n(25),p=n(26),f=n(27),d=n(28),y={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:c.ScriptReceivers,DependenciesReceivers:r.DependenciesReceivers,getDefaultStrategy:p.default,Transports:l.default,transportConnectionInitializer:f.default,HTTPFactory:d.default,TimelineTransport:u.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():r.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:o.default,jsonp:i.default}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new a.default(t,e)},createScriptRequest:function(t){return new s.default(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return h.Network},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=!0,e.default=y},function(t,e,n){"use strict";var r=n(4),o=n(5),i=n(6);e.DependenciesReceivers=new r.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),e.Dependencies=new i.default({cdn_http:o.default.cdn_http,cdn_https:o.default.cdn_https,version:o.default.VERSION,suffix:o.default.dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var n=function(){function ScriptReceiverFactory(t,e){this.lastId=0,this.prefix=t,this.name=e}return ScriptReceiverFactory.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,r=this.name+"["+e+"]",o=!1,i=function(){o||(t.apply(null,arguments),o=!0)};return this[e]=i,{number:e,id:n,name:r,callback:i}},ScriptReceiverFactory.prototype.remove=function(t){delete this[t.number]},ScriptReceiverFactory}();e.ScriptReceiverFactory=n,e.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";var n={VERSION:"4.0.0",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""};e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(4),o=n(2),i=function(){function DependencyLoader(t){this.options=t,this.receivers=t.receivers||r.ScriptReceivers,this.loading={}}return DependencyLoader.prototype.load=function(t,e,n){var r=this;if(r.loading[t]&&r.loading[t].length>0)r.loading[t].push(n);else{r.loading[t]=[n];var i=o.default.createScriptRequest(r.getPath(t,e)),s=r.receivers.create(function(e){if(r.receivers.remove(s),r.loading[t]){var n=r.loading[t];delete r.loading[t];for(var o=function(t){t||i.cleanup()},a=0;a<n.length;a++)n[a](e,o)}});i.send(s)}},DependencyLoader.prototype.getRoot=function(t){var e,n=o.default.getDocument().location.protocol;return e=t&&t.encrypted||"https:"===n?this.options.cdn_https:this.options.cdn_http,e.replace(/\/*$/,"")+"/"+this.options.version},DependencyLoader.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},DependencyLoader}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(8),o=n(2),i=function(t,e,n){var i,s=this;i=o.default.createXHR(),i.open("POST",s.options.authEndpoint,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var a in this.authOptions.headers)i.setRequestHeader(a,this.authOptions.headers[a]);return i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var t,e=!1;try{t=JSON.parse(i.responseText),e=!0}catch(t){n(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+i.responseText)}e&&n(!1,t)}else r.default.warn("Couldn't get auth info from your webapp",i.status),n(!0,i.status)},i.send(this.composeQuery(e)),i};e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(9),o=n(1),i={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];o.default.log&&o.default.log(r.stringify.apply(this,arguments))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=r.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(n):window.console.log&&window.console.log(n)),o.default.log&&o.default.log(n)}};e.__esModule=!0,e.default=i},function(t,e,n){"use strict";function extend(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o=e[r];for(var i in o)o[i]&&o[i].constructor&&o[i].constructor===Object?t[i]=extend(t[i]||{},o[i]):t[i]=o[i]}return t}function stringify(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(safeJSONStringify(arguments[e]));return t.join(" : ")}function arrayIndexOf(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1}function objectApply(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function keys(t){var e=[];return objectApply(t,function(t,n){e.push(n)}),e}function values(t){var e=[];return objectApply(t,function(t){e.push(t)}),e}function apply(t,e,n){for(var r=0;r<t.length;r++)e.call(n||window,t[r],r,t)}function map(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t,n));return n}function mapObject(t,e){var n={};return objectApply(t,function(t,r){n[r]=e(t)}),n}function filter(t,e){e=e||function(t){return!!t};for(var n=[],r=0;r<t.length;r++)e(t[r],r,t,n)&&n.push(t[r]);return n}function filterObject(t,e){var n={};return objectApply(t,function(r,o){(e&&e(r,o,t,n)||Boolean(r))&&(n[o]=r)}),n}function flatten(t){var e=[];return objectApply(t,function(t,n){e.push([n,t])}),e}function any(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1}function all(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0}function encodeParamsObject(t){return mapObject(t,function(t){return"object"==typeof t&&(t=safeJSONStringify(t)),encodeURIComponent(r.default(t.toString()))})}function buildQueryString(t){return map(flatten(encodeParamsObject(filterObject(t,function(t){return void 0!==t}))),o.default.method("join","=")).join("&")}function decycleObject(t){var e=[],n=[];return function derez(t,r){var o,i,s;switch(typeof t){case"object":if(!t)return null;for(o=0;o<e.length;o+=1)if(e[o]===t)return{$ref:n[o]};if(e.push(t),n.push(r),"[object Array]"===Object.prototype.toString.apply(t))for(s=[],o=0;o<t.length;o+=1)s[o]=derez(t[o],r+"["+o+"]");else{s={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=derez(t[i],r+"["+JSON.stringify(i)+"]"))}return s;case"number":case"string":case"boolean":return t}}(t,"$")}function safeJSONStringify(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(decycleObject(t))}}var r=n(10),o=n(11);e.extend=extend,e.stringify=stringify,e.arrayIndexOf=arrayIndexOf,e.objectApply=objectApply,e.keys=keys,e.values=values,e.apply=apply,e.map=map,e.mapObject=mapObject,e.filter=filter,e.filterObject=filterObject,e.flatten=flatten,e.any=any,e.all=all,e.encodeParamsObject=encodeParamsObject,e.buildQueryString=buildQueryString,e.decycleObject=decycleObject,e.safeJSONStringify=safeJSONStringify},function(t,e,n){"use strict";function encode(t){return h(u(t))}e.__esModule=!0,e.default=encode;for(var r=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={},s=0,a=o.length;s<a;s++)i[o.charAt(s)]=s;var c=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?r(192|e>>>6)+r(128|63&e):r(224|e>>>12&15)+r(128|e>>>6&63)+r(128|63&e)},u=function(t){return t.replace(/[^\x00-\x7F]/g,c)},l=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[o.charAt(n>>>18),o.charAt(n>>>12&63),e>=2?"=":o.charAt(n>>>6&63),e>=1?"=":o.charAt(63&n)].join("")},h=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,l)}},function(t,e,n){"use strict";var r=n(12),o={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new r.OneOffTimer(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,r.concat(arguments))}}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";function clearTimeout(t){window.clearTimeout(t)}function clearInterval(t){window.clearInterval(t)}var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(13),i=function(t){function OneOffTimer(e,n){t.call(this,setTimeout,clearTimeout,e,function(t){return n(),null})}return r(OneOffTimer,t),OneOffTimer}(o.default);e.OneOffTimer=i;var s=function(t){function PeriodicTimer(e,n){t.call(this,setInterval,clearInterval,e,function(t){return n(),t})}return r(PeriodicTimer,t),PeriodicTimer}(o.default);e.PeriodicTimer=s},function(t,e){"use strict";var n=function(){function Timer(t,e,n,r){var o=this;this.clear=e,this.timer=t(function(){o.timer&&(o.timer=r(o.timer))},n)}return Timer.prototype.isRunning=function(){return null!==this.timer},Timer.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},Timer}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(8),o=function(t,e,n){void 0!==this.authOptions.headers&&r.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var o=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var i=t.getDocument(),s=i.createElement("script");t.auth_callbacks[o]=function(t){n(!1,t)};var a="Pusher.auth_callbacks['"+o+"']";s.src=this.options.authEndpoint+"?callback="+encodeURIComponent(a)+"&"+this.composeQuery(e);var c=i.getElementsByTagName("head")[0]||i.documentElement;c.insertBefore(s,c.firstChild)};e.__esModule=!0,e.default=o},function(t,e){"use strict";var n=function(){function ScriptRequest(t){this.src=t}return ScriptRequest.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(e.script,r.firstChild),e.errorScript&&r.insertBefore(e.errorScript,e.script.nextSibling)},ScriptRequest.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},ScriptRequest}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(9),o=n(2),i=function(){function JSONPRequest(t,e){this.url=t,this.data=e}return JSONPRequest.prototype.send=function(t){if(!this.request){var e=r.buildQueryString(this.data),n=this.url+"/"+t.number+"?"+e;this.request=o.default.createScriptRequest(n),this.request.send(t)}},JSONPRequest.prototype.cleanup=function(){this.request&&this.request.cleanup()},JSONPRequest}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(2),o=n(4),i=function(t,e){return function(n,i){var s="http"+(e?"s":"")+"://",a=s+(t.host||t.options.host)+t.options.path,c=r.default.createJSONPRequest(a,n),u=r.default.ScriptReceivers.create(function(e,n){o.ScriptReceivers.remove(u),c.cleanup(),n&&n.host&&(t.host=n.host),i&&i(e,n)});c.send(u)}},s={name:"jsonp",getAgent:i};e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var r=n(19),o=n(21),i=n(20),s=n(2),a=n(3),c=n(9),u=new o.default({file:"sockjs",urls:i.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:a.Dependencies.getPath("sockjs",{encrypted:e.encrypted}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),l={isSupported:function(t){return s.default.isXDRSupported(t.encrypted)}},h=new o.default(c.extend({},r.streamingConfiguration,l)),p=new o.default(c.extend({},r.pollingConfiguration,l));r.default.xdr_streaming=h,r.default.xdr_polling=p,r.default.sockjs=u,e.__esModule=!0,e.default=r.default},function(t,e,n){"use strict";var r=n(20),o=n(21),i=n(9),s=n(2),a=new o.default({urls:r.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(s.default.getWebSocketAPI())},isSupported:function(){return Boolean(s.default.getWebSocketAPI())},getSocket:function(t){return s.default.createWebSocket(t)}}),c={urls:r.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=i.extend({getSocket:function(t){return s.default.HTTPFactory.createStreamingSocket(t)}},c),e.pollingConfiguration=i.extend({getSocket:function(t){return s.default.HTTPFactory.createPollingSocket(t)}},c);var u={isSupported:function(){return s.default.isXHRSupported()}},l=new o.default(i.extend({},e.streamingConfiguration,u)),h=new o.default(i.extend({},e.pollingConfiguration,u)),p={ws:a,xhr_streaming:l,xhr_polling:h};e.__esModule=!0,e.default=p},function(t,e,n){"use strict";function getGenericURL(t,e,n){return t+(e.encrypted?"s":"")+"://"+(e.encrypted?e.hostEncrypted:e.hostUnencrypted)+n}function getGenericPath(t,e){return"/app/"+t+"?protocol="+r.default.PROTOCOL+"&client=js&version="+r.default.VERSION+(e?"&"+e:"")}var r=n(5);e.ws={getInitial:function(t,e){return getGenericURL("ws",e,getGenericPath(t,"flash=false"))}},e.http={getInitial:function(t,e){return getGenericURL("http",e,(e.httpPath||"/pusher")+getGenericPath(t))}},e.sockjs={getInitial:function(t,e){return getGenericURL("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return getGenericPath(t)}}},function(t,e,n){"use strict";var r=n(22),o=function(){function Transport(t){this.hooks=t}return Transport.prototype.isSupported=function(t){return this.hooks.isSupported(t)},Transport.prototype.createConnection=function(t,e,n,o){return new r.default(this.hooks,t,e,n,o)},Transport}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(11),i=n(9),s=n(23),a=n(8),c=n(2),u=function(t){function TransportConnection(e,n,r,o,i){t.call(this),this.initialize=c.default.transportConnectionInitializer,this.hooks=e,this.name=n,this.priority=r,this.key=o,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}return r(TransportConnection,t),TransportConnection.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},TransportConnection.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},TransportConnection.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return o.default.defer(function(){t.onError(e),t.changeState("closed")}),!1}return this.bindListeners(),a.default.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},TransportConnection.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},TransportConnection.prototype.send=function(t){var e=this;return"open"===this.state&&(o.default.defer(function(){e.socket&&e.socket.send(t)}),!0)},TransportConnection.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},TransportConnection.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},TransportConnection.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},TransportConnection.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},TransportConnection.prototype.onMessage=function(t){this.emit("message",t)},TransportConnection.prototype.onActivity=function(){this.emit("activity")},TransportConnection.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},TransportConnection.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},TransportConnection.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},TransportConnection.prototype.buildTimelineMessage=function(t){return i.extend({cid:this.id},t)},TransportConnection}(s.default);e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var r=n(9),o=n(24),i=function(){function Dispatcher(t){this.callbacks=new o.default,this.global_callbacks=[],this.failThrough=t}return Dispatcher.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},Dispatcher.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},Dispatcher.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},Dispatcher.prototype.unbind_global=function(t){return t?(this.global_callbacks=r.filter(this.global_callbacks||[],function(e){return e!==t}),this):(this.global_callbacks=[],this)},Dispatcher.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},Dispatcher.prototype.emit=function(t,e){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var r=this.callbacks.get(t);if(r&&r.length>0)for(n=0;n<r.length;n++)r[n].fn.call(r[n].context||window,e);else this.failThrough&&this.failThrough(t,e);return this},Dispatcher}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";function prefix(t){return"_"+t}var r=n(9),o=function(){function CallbackRegistry(){this._callbacks={}}return CallbackRegistry.prototype.get=function(t){return this._callbacks[prefix(t)]},CallbackRegistry.prototype.add=function(t,e,n){var r=prefix(t);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:e,context:n})},CallbackRegistry.prototype.remove=function(t,e,n){if(!t&&!e&&!n)return void(this._callbacks={});var o=t?[prefix(t)]:r.keys(this._callbacks);e||n?this.removeCallback(o,e,n):this.removeAllCallbacks(o)},CallbackRegistry.prototype.removeCallback=function(t,e,n){r.apply(t,function(t){this._callbacks[t]=r.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||n&&n!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},CallbackRegistry.prototype.removeAllCallbacks=function(t){r.apply(t,function(t){delete this._callbacks[t]},this)},CallbackRegistry}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(23),i=function(t){function NetInfo(){t.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}return r(NetInfo,t),NetInfo.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},NetInfo}(o.default);e.NetInfo=i,e.Network=new i},function(t,e){"use strict";var n=function(t){var e;return e=t.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:t.wsHost+":"+t.wsPort,hostEncrypted:t.wsHost+":"+t.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:t.httpHost+":"+t.httpPort,hostEncrypted:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,":http_fallback_loop"]]]]]};e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function default_1(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.encrypted?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),r.Dependencies.load(t.hooks.file,{encrypted:t.options.encrypted},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()}var r=n(3);e.__esModule=!0,e.default=default_1},function(t,e,n){"use strict";var r=n(29),o=n(31);o.default.createXDR=function(t,e){return this.createRequest(r.default,t,e)},e.__esModule=!0,e.default=o.default},function(t,e,n){"use strict";var r=n(30),o={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new r.RequestTimedOut),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e){"use strict";var n=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},r=function(t){function BadEventName(){t.apply(this,arguments)}return n(BadEventName,t),BadEventName}(Error);e.BadEventName=r;var o=function(t){function RequestTimedOut(){t.apply(this,arguments)}return n(RequestTimedOut,t),RequestTimedOut}(Error);e.RequestTimedOut=o;var i=function(t){function TransportPriorityTooLow(){t.apply(this,arguments)}return n(TransportPriorityTooLow,t),TransportPriorityTooLow}(Error);e.TransportPriorityTooLow=i;var s=function(t){function TransportClosed(){t.apply(this,arguments)}return n(TransportClosed,t),TransportClosed}(Error);e.TransportClosed=s;var a=function(t){function UnsupportedTransport(){t.apply(this,arguments)}return n(UnsupportedTransport,t),UnsupportedTransport}(Error);e.UnsupportedTransport=a;var c=function(t){function UnsupportedStrategy(){t.apply(this,arguments)}return n(UnsupportedStrategy,t),UnsupportedStrategy}(Error);e.UnsupportedStrategy=c},function(t,e,n){"use strict";var r=n(32),o=n(33),i=n(35),s=n(36),a=n(37),c={createStreamingSocket:function(t){return this.createSocket(i.default,t)},createPollingSocket:function(t){return this.createSocket(s.default,t)},createSocket:function(t,e){return new o.default(t,e)},createXHR:function(t,e){return this.createRequest(a.default,t,e)},createRequest:function(t,e,n){return new r.default(t,e,n)}};e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(2),i=n(23),s=function(t){function HTTPRequest(e,n,r){t.call(this),this.hooks=e,this.method=n,this.url=r}return r(HTTPRequest,t),HTTPRequest.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},o.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},HTTPRequest.prototype.close=function(){this.unloader&&(o.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},HTTPRequest.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},HTTPRequest.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return n!==-1?(this.position+=n+1,e.slice(0,n)):null},HTTPRequest.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},HTTPRequest}(i.default);e.__esModule=!0,e.default=s},function(t,e,n){"use strict";function getLocation(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}function getSendURL(t,e){return t.base+"/"+e+"/xhr_send"}function getUniqueURL(t){return t+(t.indexOf("?")===-1?"?":"&")+"t="+ +new Date+"&n="+s++}function replaceHost(t,e){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t);return n[1]+e+n[3]}function randomNumber(t){return Math.floor(Math.random()*t)}function randomString(t){for(var e=[],n=0;n<t;n++)e.push(randomNumber(32).toString(32));return e.join("")}var r=n(34),o=n(11),i=n(2),s=1,a=function(){function HTTPSocket(t,e){this.hooks=t,this.session=randomNumber(1e3)+"/"+randomString(8),this.location=getLocation(e),this.readyState=r.default.CONNECTING,this.openStream()}return HTTPSocket.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},HTTPSocket.prototype.ping=function(){this.hooks.sendHeartbeat(this)},HTTPSocket.prototype.close=function(t,e){this.onClose(t,e,!0)},HTTPSocket.prototype.sendRaw=function(t){if(this.readyState!==r.default.OPEN)return!1;try{return i.default.createSocketRequest("POST",getUniqueURL(getSendURL(this.location,this.session))).start(t),!0}catch(t){return!1}},HTTPSocket.prototype.reconnect=function(){this.closeStream(),this.openStream()},HTTPSocket.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=r.default.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},HTTPSocket.prototype.onChunk=function(t){if(200===t.status){this.readyState===r.default.OPEN&&this.onActivity();var e;switch(t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}}},HTTPSocket.prototype.onOpen=function(t){this.readyState===r.default.CONNECTING?(t&&t.hostname&&(this.location.base=replaceHost(this.location.base,t.hostname)),this.readyState=r.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},HTTPSocket.prototype.onEvent=function(t){this.readyState===r.default.OPEN&&this.onmessage&&this.onmessage({data:t})},HTTPSocket.prototype.onActivity=function(){this.onactivity&&this.onactivity()},HTTPSocket.prototype.onError=function(t){this.onerror&&this.onerror(t)},HTTPSocket.prototype.openStream=function(){var t=this;this.stream=i.default.createSocketRequest("POST",getUniqueURL(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){o.default.defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},HTTPSocket.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},HTTPSocket}();e.__esModule=!0,e.default=a},function(t,e){"use strict";var n;!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e){"use strict";var n={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}};e.__esModule=!0,e.default=n},function(t,e){"use strict";var n={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}};e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(2),o={getRequest:function(t){var e=r.default.getXHRAPI(),n=new e;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&t.onChunk(n.status,n.responseText),t.emit("finished",n.status),t.close()}},n},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(9),o=n(11),i=n(39),s=function(){function Timeline(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return Timeline.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(r.extend({},e,{timestamp:o.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},Timeline.prototype.error=function(t){this.log(i.default.ERROR,t)},Timeline.prototype.info=function(t){this.log(i.default.INFO,t)},Timeline.prototype.debug=function(t){this.log(i.default.DEBUG,t)},Timeline.prototype.isEmpty=function(){return 0===this.events.length},Timeline.prototype.send=function(t,e){var n=this,o=r.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(o,function(t,r){t||n.sent++,e&&e(t,r)}),!0},Timeline.prototype.generateUniqueID=function(){return++this.uniqueID},Timeline}();e.__esModule=!0,e.default=s},function(t,e){"use strict";var n;!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function returnWithOriginalContext(t){return function(e){return[t.apply(this,arguments),e]}}function isSymbol(t){return"string"==typeof t&&":"===t.charAt(0)}function getSymbolValue(t,e){return e[t.slice(1)]}function evaluateListOfExpressions(t,e){if(0===t.length)return[[],e];var n=evaluate(t[0],e),r=evaluateListOfExpressions(t.slice(1),n[1]);return[[n[0]].concat(r[0]),r[1]]}function evaluateString(t,e){if(!isSymbol(t))return[t,e];var n=getSymbolValue(t,e);if(void 0===n)throw"Undefined symbol "+t;return[n,e]}function evaluateArray(t,e){if(isSymbol(t[0])){var n=getSymbolValue(t[0],e);if(t.length>1){if("function"!=typeof n)throw"Calling non-function "+t[0];var o=[r.extend({},e)].concat(r.map(t.slice(1),function(t){return evaluate(t,r.extend({},e))[0]}));return n.apply(this,o)}return[n,e]}return evaluateListOfExpressions(t,e)}function evaluate(t,e){return"string"==typeof t?evaluateString(t,e):"object"==typeof t&&t instanceof Array&&t.length>0?evaluateArray(t,e):[t,e]}var r=n(9),o=n(11),i=n(41),s=n(30),a=n(55),c=n(56),u=n(57),l=n(58),h=n(59),p=n(60),f=n(61),d=n(2),y=d.default.Transports;e.build=function(t,e){return evaluate(t,r.extend({},m,e))[1].strategy};var g={isSupported:function(){return!1},connect:function(t,e){var n=o.default.defer(function(){e(new s.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},m={extend:function(t,e,n){return[r.extend({},e,n),t]},def:function(t,e,n){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=n,[void 0,t]},def_transport:function(t,e,n,o,i,c){var u=y[n];if(!u)throw new s.UnsupportedTransport(n);var l,h=!(t.enabledTransports&&r.arrayIndexOf(t.enabledTransports,e)===-1||t.disabledTransports&&r.arrayIndexOf(t.disabledTransports,e)!==-1);l=h?new a.default(e,o,c?c.getAssistant(u):u,r.extend({key:t.key,encrypted:t.encrypted,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},i)):g;var p=t.def(t,e,l)[1];return p.Transports=t.Transports||{},p.Transports[e]=l,[void 0,p]},transport_manager:returnWithOriginalContext(function(t,e){return new i.default(e)}),sequential:returnWithOriginalContext(function(t,e){var n=Array.prototype.slice.call(arguments,2);return new c.default(n,e)}),cached:returnWithOriginalContext(function(t,e,n){return new l.default(n,t.Transports,{ttl:e,timeline:t.timeline,encrypted:t.encrypted})}),first_connected:returnWithOriginalContext(function(t,e){return new f.default(e)}),best_connected_ever:returnWithOriginalContext(function(){var t=Array.prototype.slice.call(arguments,1);return new u.default(t)}),delayed:returnWithOriginalContext(function(t,e,n){return new h.default(n,{delay:e})}),if:returnWithOriginalContext(function(t,e,n,r){return new p.default(e,n,r)}),is_supported:returnWithOriginalContext(function(t,e){return function(){return e.isSupported()}})}},function(t,e,n){"use strict";var r=n(42),o=function(){function TransportManager(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return TransportManager.prototype.getAssistant=function(t){return r.default.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},TransportManager.prototype.isAlive=function(){return this.livesLeft>0},TransportManager.prototype.reportDeath=function(){this.livesLeft-=1},TransportManager}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(43),o=n(44),i=n(47),s=n(48),a=n(49),c=n(50),u=n(51),l=n(53),h=n(54),p={createChannels:function(){return new h.default},createConnectionManager:function(t,e){return new l.default(t,e)},createChannel:function(t,e){return new u.default(t,e)},createPrivateChannel:function(t,e){return new c.default(t,e)},createPresenceChannel:function(t,e){return new a.default(t,e)},createTimelineSender:function(t,e){return new s.default(t,e)},createAuthorizer:function(t,e){return new i.default(t,e)},createHandshake:function(t,e){return new o.default(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new r.default(t,e,n)}};e.__esModule=!0,e.default=p},function(t,e,n){"use strict";var r=n(11),o=n(9),i=function(){function AssistantToTheTransportManager(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return AssistantToTheTransportManager.prototype.createConnection=function(t,e,n,i){var s=this;i=o.extend({},i,{activityTimeout:this.pingDelay});var a=this.transport.createConnection(t,e,n,i),c=null,u=function(){a.unbind("open",u),a.bind("closed",l),c=r.default.now()},l=function(t){if(a.unbind("closed",l),1002===t.code||1003===t.code)s.manager.reportDeath();else if(!t.wasClean&&c){var e=r.default.now()-c;e<2*s.maxPingDelay&&(s.manager.reportDeath(),s.pingDelay=Math.max(e/2,s.minPingDelay))}};return a.bind("open",u),a},AssistantToTheTransportManager.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},AssistantToTheTransportManager}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";var r=n(9),o=n(45),i=n(46),s=function(){function Handshake(t,e){this.transport=t,this.callback=e,this.bindListeners()}return Handshake.prototype.close=function(){this.unbindListeners(),this.transport.close()},Handshake.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){t.unbindListeners();var n;try{n=o.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new i.default(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=o.getCloseAction(e)||"backoff",r=o.getCloseError(e);t.finish(n,{error:r})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},Handshake.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},Handshake.prototype.finish=function(t,e){this.callback(r.extend({transport:this.transport,action:t},e))},Handshake}();e.__esModule=!0,e.default=s},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){if(!(t instanceof SyntaxError))throw t}return e}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){if(t=e.decodeMessage(t),"pusher:connection_established"===t.event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"ssl_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(9),i=n(23),s=n(45),a=n(8),c=function(t){function Connection(e,n){t.call(this),this.id=e,this.transport=n,this.activityTimeout=n.activityTimeout,this.bindListeners()}return r(Connection,t),Connection.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},Connection.prototype.send=function(t){return this.transport.send(t)},Connection.prototype.send_event=function(t,e,n){var r={event:t,data:e};return n&&(r.channel=n),a.default.debug("Event sent",r),this.send(s.encodeMessage(r))},Connection.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},Connection.prototype.close=function(){this.transport.close()},Connection.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=s.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch(a.default.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){o.objectApply(e,function(e,n){t.transport.unbind(n,e)})};o.objectApply(e,function(e,n){t.transport.bind(n,e)})},Connection.prototype.handleCloseEvent=function(t){var e=s.getCloseAction(t),n=s.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e)},Connection}(i.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var r=n(2),o=function(){function Authorizer(t,e){this.channel=t;var n=e.authTransport;if(void 0===r.default.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=(e||{}).auth||{}}return Authorizer.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},Authorizer.prototype.authorize=function(t,e){return Authorizer.authorizers=Authorizer.authorizers||r.default.getAuthorizers(),Authorizer.authorizers[this.type].call(this,r.default,t,e)},Authorizer}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=n(2),o=function(){function TimelineSender(t,e){this.timeline=t,this.options=e||{}}return TimelineSender.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(r.default.TimelineTransport.getAgent(this,t),e)},TimelineSender}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(50),i=n(8),s=n(52),a=function(t){function PresenceChannel(e,n){t.call(this,e,n),this.members=new s.default}return r(PresenceChannel,t),PresenceChannel.prototype.authorize=function(e,n){var r=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data)return i.default.warn("Invalid auth response for channel '"+r.name+"', expected 'channel_data' field"),void n("Invalid auth response");var o=JSON.parse(e.channel_data);r.members.setMyID(o.user_id)}n(t,e)})},PresenceChannel.prototype.handleEvent=function(t,e){switch(t){case"pusher_internal:subscription_succeeded":this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e),this.emit("pusher:subscription_succeeded",this.members));break;case"pusher_internal:member_added":var n=this.members.addMember(e);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var r=this.members.removeMember(e);r&&this.emit("pusher:member_removed",r);break;default:o.default.prototype.handleEvent.call(this,t,e)}},PresenceChannel.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},PresenceChannel}(o.default);e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(42),i=n(51),s=function(t){function PrivateChannel(){t.apply(this,arguments)}return r(PrivateChannel,t),PrivateChannel.prototype.authorize=function(t,e){return o.default.createAuthorizer(this,this.pusher.config).authorize(t,e)},PrivateChannel}(i.default);e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(23),i=n(30),s=n(8),a=function(t){function Channel(e,n){t.call(this,function(t,n){s.default.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=n,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return r(Channel,t),Channel.prototype.authorize=function(t,e){return e(!1,{})},Channel.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new i.BadEventName("Event '"+t+"' does not start with 'client-'");return this.pusher.send_event(t,e,this.name)},Channel.prototype.disconnect=function(){this.subscribed=!1},Channel.prototype.handleEvent=function(t,e){0===t.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===t&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e)):this.emit(t,e)},Channel.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(e,n){e?t.handleEvent("pusher:subscription_error",n):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})}))},Channel.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},Channel.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},Channel.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},Channel}(o.default);e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var r=n(9),o=function(){function Members(){this.reset()}return Members.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},Members.prototype.each=function(t){var e=this;r.objectApply(this.members,function(n,r){t(e.get(r))})},Members.prototype.setMyID=function(t){this.myID=t},Members.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},Members.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},Members.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},Members.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},Members}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},o=n(23),i=n(12),s=n(8),a=n(9),c=n(2),u=function(t){function ConnectionManager(e,n){var r=this;t.call(this),this.key=e,this.options=n||{},this.state="initialized",this.connection=null,this.encrypted=!!n.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var o=c.default.getNetwork();o.bind("online",function(){r.timeline.info({netinfo:"online"}),"connecting"!==r.state&&"unavailable"!==r.state||r.retryIn(0)}),o.bind("offline",function(){r.timeline.info({netinfo:"offline"}),r.connection&&r.sendActivityCheck()}),this.updateStrategy()}return r(ConnectionManager,t),ConnectionManager.prototype.connect=function(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},ConnectionManager.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},ConnectionManager.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},ConnectionManager.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},ConnectionManager.prototype.isEncrypted=function(){return this.encrypted},ConnectionManager.prototype.startConnecting=function(){var t=this,e=function(n,r){n?t.runner=t.strategy.connect(0,e):"error"===r.action?(t.emit("error",{type:"HandshakeError",error:r.error}),t.timeline.error({handshakeError:r.error})):(t.abortConnecting(),t.handshakeCallbacks[r.action](r))};this.runner=this.strategy.connect(0,e)},ConnectionManager.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},ConnectionManager.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){this.abandonConnection().close()}},ConnectionManager.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},ConnectionManager.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new i.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},ConnectionManager.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},ConnectionManager.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new i.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},ConnectionManager.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},ConnectionManager.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new i.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},ConnectionManager.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.handlesActivityChecks()||(this.activityTimer=new i.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},ConnectionManager.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},ConnectionManager.prototype.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},ConnectionManager.prototype.buildHandshakeCallbacks=function(t){var e=this;return a.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},ConnectionManager.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{ssl_only:e(function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},ConnectionManager.prototype.setConnection=function(t){this.connection=t;for(var e in this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},ConnectionManager.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var t in this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},ConnectionManager.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var r=t;"connected"===r&&(r+=" with new socket ID "+e.socket_id),s.default.debug("State changed",n+" -> "+r),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},ConnectionManager.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},ConnectionManager}(o.default);e.__esModule=!0,e.default=u},function(t,e,n){"use strict";function createChannel(t,e){return 0===t.indexOf("private-")?o.default.createPrivateChannel(t,e):0===t.indexOf("presence-")?o.default.createPresenceChannel(t,e):o.default.createChannel(t,e)}var r=n(9),o=n(42),i=function(){function Channels(){this.channels={}}return Channels.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=createChannel(t,e)),this.channels[t]},Channels.prototype.all=function(){return r.values(this.channels)},Channels.prototype.find=function(t){return this.channels[t]},Channels.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},Channels.prototype.disconnect=function(){r.objectApply(this.channels,function(t){t.disconnect()})},Channels}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";function failAttempt(t,e){return o.default.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var r=n(42),o=n(11),i=n(30),s=n(9),a=function(){function TransportStrategy(t,e,n,r){this.name=t,this.priority=e,this.transport=n,this.options=r||{}}return TransportStrategy.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},TransportStrategy.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return failAttempt(new i.UnsupportedStrategy,e);if(this.priority<t)return failAttempt(new i.TransportPriorityTooLow,e);var o=!1,a=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,u=function(){a.unbind("initialized",u),a.connect()},l=function(){c=r.default.createHandshake(a,function(t){o=!0,f(),e(null,t)})},h=function(t){f(),e(t)},p=function(){f();var t;t=s.safeJSONStringify(a),e(new i.TransportClosed(t))},f=function(){a.unbind("initialized",u),a.unbind("open",l),a.unbind("error",h),a.unbind("closed",p)};return a.bind("initialized",u),a.bind("open",l),a.bind("error",h),a.bind("closed",p),a.initialize(),{abort:function(){o||(f(),c?c.close():a.close())},forceMinPriority:function(t){o||n.priority<t&&(c?c.close():a.close())}}},TransportStrategy}();e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var r=n(9),o=n(11),i=n(12),s=function(){function SequentialStrategy(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return SequentialStrategy.prototype.isSupported=function(){return r.any(this.strategies,o.default.method("isSupported"))},SequentialStrategy.prototype.connect=function(t,e){var n=this,r=this.strategies,o=0,i=this.timeout,s=null,a=function(c,u){u?e(null,u):(o+=1,n.loop&&(o%=r.length),o<r.length?(i&&(i*=2,n.timeoutLimit&&(i=Math.min(i,n.timeoutLimit))),s=n.tryStrategy(r[o],t,{timeout:i,failFast:n.failFast},a)):e(!0))};return s=this.tryStrategy(r[o],t,{timeout:i,failFast:this.failFast},a),{abort:function(){s.abort()},forceMinPriority:function(e){t=e,s&&s.forceMinPriority(e)}}},SequentialStrategy.prototype.tryStrategy=function(t,e,n,r){var o=null,s=null;return n.timeout>0&&(o=new i.OneOffTimer(n.timeout,function(){s.abort(),r(!0)})),s=t.connect(e,function(t,e){t&&o&&o.isRunning()&&!n.failFast||(o&&o.ensureAborted(),r(t,e))}),{abort:function(){o&&o.ensureAborted(),s.abort()},forceMinPriority:function(t){s.forceMinPriority(t)}}},SequentialStrategy}();e.__esModule=!0,e.default=s},function(t,e,n){"use strict";function connect(t,e,n){var o=r.map(t,function(t,r,o,i){return t.connect(e,n(r,i))});return{abort:function(){r.apply(o,abortRunner)},forceMinPriority:function(t){r.apply(o,function(e){e.forceMinPriority(t)})}}}function allRunnersFailed(t){return r.all(t,function(t){return Boolean(t.error)})}function abortRunner(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var r=n(9),o=n(11),i=function(){function BestConnectedEverStrategy(t){this.strategies=t}return BestConnectedEverStrategy.prototype.isSupported=function(){return r.any(this.strategies,o.default.method("isSupported"))},BestConnectedEverStrategy.prototype.connect=function(t,e){return connect(this.strategies,t,function(t,n){return function(o,i){if(n[t].error=o,o)return void(allRunnersFailed(n)&&e(!0));r.apply(n,function(t){t.forceMinPriority(i.transport.priority)}),e(null,i)}})},BestConnectedEverStrategy}();e.__esModule=!0,e.default=i},function(t,e,n){"use strict";function getTransportCacheKey(t){return"pusherTransport"+(t?"Encrypted":"Unencrypted")}function fetchTransportCache(t){var e=o.default.getLocalStorage();if(e)try{var n=e[getTransportCacheKey(t)];if(n)return JSON.parse(n)}catch(e){flushTransportCache(t)}return null}function storeTransportCache(t,e,n){var i=o.default.getLocalStorage();if(i)try{i[getTransportCacheKey(t)]=s.safeJSONStringify({timestamp:r.default.now(),transport:e,latency:n})}catch(t){}}function flushTransportCache(t){var e=o.default.getLocalStorage();if(e)try{delete e[getTransportCacheKey(t)]}catch(t){}}var r=n(11),o=n(2),i=n(56),s=n(9),a=function(){function CachedStrategy(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}return CachedStrategy.prototype.isSupported=function(){return this.strategy.isSupported()},CachedStrategy.prototype.connect=function(t,e){var n=this.encrypted,o=fetchTransportCache(n),s=[this.strategy];if(o&&o.timestamp+this.ttl>=r.default.now()){var a=this.transports[o.transport];a&&(this.timeline.info({cached:!0,transport:o.transport,latency:o.latency}),s.push(new i.default([a],{timeout:2*o.latency+1e3,failFast:!0})))}var c=r.default.now(),u=s.pop().connect(t,function cb(o,i){o?(flushTransportCache(n),s.length>0?(c=r.default.now(),u=s.pop().connect(t,cb)):e(o)):(storeTransportCache(n,i.transport.name,r.default.now()-c),e(null,i))});return{abort:function(){u.abort()},forceMinPriority:function(e){t=e,u&&u.forceMinPriority(e)}}},CachedStrategy}();e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var r=n(12),o=function(){function DelayedStrategy(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return DelayedStrategy.prototype.isSupported=function(){return this.strategy.isSupported()},DelayedStrategy.prototype.connect=function(t,e){var n,o=this.strategy,i=new r.OneOffTimer(this.options.delay,function(){n=o.connect(t,e)});return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},DelayedStrategy}();e.__esModule=!0,e.default=o},function(t,e){"use strict";var n=function(){function IfStrategy(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return IfStrategy.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},IfStrategy.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},IfStrategy}();e.__esModule=!0,e.default=n},function(t,e){"use strict";var n=function(){function FirstConnectedStrategy(t){this.strategy=t}return FirstConnectedStrategy.prototype.isSupported=function(){return this.strategy.isSupported()},FirstConnectedStrategy.prototype.connect=function(t,e){var n=this.strategy.connect(t,function(t,r){r&&n.abort(),e(t,r)});return n},FirstConnectedStrategy}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var r=n(5);e.getGlobalConfig=function(){return{wsHost:r.default.host,wsPort:r.default.ws_port,wssPort:r.default.wss_port,httpHost:r.default.sockjs_host,httpPort:r.default.sockjs_http_port,httpsPort:r.default.sockjs_https_port,httpPath:r.default.sockjs_path,statsHost:r.default.stats_host,authEndpoint:r.default.channel_auth_endpoint,authTransport:r.default.channel_auth_transport,activity_timeout:r.default.activity_timeout,pong_timeout:r.default.pong_timeout,unavailable_timeout:r.default.unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])})},169:function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)i[a]=o[s];return i.buffer}},267:function(t,e){function Backoff(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=Backoff,Backoff.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(t){this.ms=t},Backoff.prototype.setMax=function(t){this.max=t},Backoff.prototype.setJitter=function(t){this.jitter=t}},268:function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i="";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,r,o,i,s,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),h=new Uint8Array(l);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],o=n[t.charCodeAt(e+1)],i=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],h[u++]=r<<2|o>>4,h[u++]=(15&o)<<4|i>>2,h[u++]=(3&i)<<6|63&s;return l}}()},270:function(t,e,n){(function(e){function mapArrayBufferViews(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}t[e]=r}}}function BlobBuilderConstructor(t,e){e=e||{};var r=new n;mapArrayBufferViews(t);for(var o=0;o<t.length;o++)r.append(t[o]);return e.type?r.getBlob(e.type):r.getBlob()}function BlobConstructor(t,e){return mapArrayBufferViews(t),new Blob(t,e||{})}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),o=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;t.exports=function(){return r?o?e.Blob:BlobConstructor:i?BlobBuilderConstructor:void 0}()}).call(e,n(1))},314:function(t,e,n){t.exports=n(315)},315:function(t,e,n){t.exports=n(316),t.exports.parser=n(34)},316:function(t,e,n){(function(e){function Socket(t,n){if(!(this instanceof Socket))return new Socket(t,n);n=n||{},t&&"object"==typeof t&&(n=t,t=null),t?(t=c(t),n.hostname=t.host,n.secure="https"===t.protocol||"wss"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:e.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:"localhost"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized,this.forceNode=!!n.forceNode;var r="object"==typeof e&&e;r.global===r&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function clone(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var r=n(127),o=n(40),i=n(59)("engine.io-client:socket"),s=n(130),a=n(34),c=n(132),u=n(367),l=n(84);t.exports=Socket,Socket.priorWebsocketSuccess=!1,o(Socket.prototype),Socket.protocol=a.protocol,Socket.Socket=Socket,Socket.Transport=n(81),Socket.transports=n(127),Socket.parser=n(34),Socket.prototype.createTransport=function(t){i('creating transport "%s"',t);var e=clone(this.query);return e.EIO=a.protocol,e.transport=t,this.id&&(e.sid=this.id),new r[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},Socket.prototype.open=function(){var t;if(this.rememberUpgrade&&Socket.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},Socket.prototype.setTransport=function(t){i("setting transport %s",t.name);var e=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},Socket.prototype.probe=function(t){function onTransportOpen(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(i('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(i('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;Socket.priorWebsocketSuccess="websocket"===e.name,i('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(i("changing transport and sending upgrade packet"),cleanup(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())})}else{i('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,r.emit("upgradeError",s)}}))}function freezeTransport(){n||(n=!0,cleanup(),e.close(),e=null)}function onerror(n){var o=new Error("probe error: "+n);o.transport=e.name,freezeTransport(),i('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",o)}function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(t){e&&t.name!==e.name&&(i('"%s" works - aborting "%s"',t.name,e.name),freezeTransport())}function cleanup(){e.removeListener("open",onTransportOpen),e.removeListener("error",onerror),e.removeListener("close",onTransportClose),r.removeListener("close",onclose),r.removeListener("upgrading",onupgrade)}i('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;Socket.priorWebsocketSuccess=!1,e.once("open",onTransportOpen),e.once("error",onerror),e.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),e.open()},Socket.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",Socket.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},Socket.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(u(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else i('packet received with socket readyState "%s"',this.readyState)},Socket.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Socket.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},Socket.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){i("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},Socket.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},Socket.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Socket.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Socket.prototype.write=Socket.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},Socket.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},Socket.prototype.close=function(){function close(){t.onClose("forced close"),i("socket closing - telling transport to close"),t.transport.close()}function cleanupAndClose(){t.removeListener("upgrade",cleanupAndClose),t.removeListener("upgradeError",cleanupAndClose),close()}function waitForUpgrade(){t.once("upgrade",cleanupAndClose),t.once("upgradeError",cleanupAndClose)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()}return this},Socket.prototype.onError=function(t){i("socket error %j",t),Socket.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},Socket.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}},Socket.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~s(this.transports,t[n])&&e.push(t[n]);return e}}).call(e,n(1))},317:function(t,e,n){(function(e){function empty(){}function JSONPPolling(t){r.call(this,t),this.query=this.query||{},i||(e.___eio||(e.___eio=[]),i=e.___eio),this.index=i.length;var n=this;i.push(function(t){n.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=empty)},!1)}var r=n(128),o=n(54);t.exports=JSONPPolling;var i;o(JSONPPolling,r),JSONPPolling.prototype.supportsBinary=!1,JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},JSONPPolling.prototype.doWrite=function(t,e){function complete(){initIframe(),e()}function initIframe(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){r=document.createElement("iframe"),r.name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}var n=this;if(!this.form){var r,o=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=s,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}this.form.action=this.uri(),initIframe(),t=t.replace(/\\n/g,"\\\n"),this.area.value=t.replace(/\n/g,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&complete()}:this.iframe.onload=complete}}).call(e,n(1))},318:function(t,e,n){(function(e){function empty(){}function XHR(t){if(o.call(this,t),this.requestTimeout=t.requestTimeout,e.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=t.hostname!==e.location.hostname||r!==t.port,this.xs=t.secure!==n}else this.extraHeaders=t.extraHeaders}function Request(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function unloadHandler(){for(var t in Request.requests)Request.requests.hasOwnProperty(t)&&Request.requests[t].abort()}var r=n(82),o=n(128),i=n(40),s=n(54),a=n(59)("engine.io-client:polling-xhr");t.exports=XHR,t.exports.Request=Request,s(XHR,o),XHR.prototype.supportsBinary=!0,XHR.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new Request(t)},XHR.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=r},XHR.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},i(Request.prototype),Request.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new r(t),o=this;try{a("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.extraHeaders[i])}}catch(t){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){o.onLoad()},n.onerror=function(){o.onError(n.responseText)}):n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?o.onLoad():setTimeout(function(){o.onError(n.status)},0))},a("xhr data %s",this.data),n.send(this.data)}catch(t){return void setTimeout(function(){o.onError(t)},0)}e.document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)},Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Request.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},Request.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},Request.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty:this.xhr.onreadystatechange=empty,t)try{this.xhr.abort()}catch(t){}e.document&&delete Request.requests[this.index],this.xhr=null}},Request.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var n=new Uint8Array(this.xhr.response),r=[],o=0,i=n.length;o<i;o++)r.push(n[o]);t=String.fromCharCode.apply(null,r)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},Request.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},Request.prototype.abort=function(){this.cleanup()},Request.requestsCount=0,Request.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",unloadHandler):e.addEventListener&&e.addEventListener("beforeunload",unloadHandler,!1))}).call(e,n(1))},319:function(t,e,n){(function(e){function WS(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=l&&!t.forceNode,this.usingBrowserWebSocket||(h=r),o.call(this,t)}var r,o=n(81),i=n(34),s=n(84),a=n(54),c=n(142),u=n(59)("engine.io-client:websocket"),l=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{r=n(519)}catch(t){}var h=l;h||"undefined"!=typeof window||(h=r),t.exports=WS,a(WS,o),WS.prototype.name="websocket",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e={agent:this.agent,perMessageDeflate:this.perMessageDeflate};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(e.headers=this.extraHeaders),this.localAddress&&(e.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new h(t):new h(t,void 0,e)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},WS.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},WS.prototype.write=function(t){function done(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var r=t.length,o=0,s=r;o<s;o++)!function(t){i.encodePacket(t,n.supportsBinary,function(o){if(!n.usingBrowserWebSocket){var i={};if(t.options&&(i.compress=t.options.compress),n.perMessageDeflate){("string"==typeof o?e.Buffer.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,i)}catch(t){u("websocket closed before onclose event")}--r||done()})}(t[o])},WS.prototype.onClose=function(){o.prototype.onClose.call(this)},WS.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},WS.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),t=s.encode(t),t.length&&(t="?"+t),e+"://"+(this.hostname.indexOf(":")!==-1?"["+this.hostname+"]":this.hostname)+n+this.path+t},WS.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===WS.prototype.name)}}).call(e,n(1))},320:function(t,e){function after(t,e,n){function proxy(t,o){if(proxy.count<=0)throw new Error("after called too many times");--proxy.count,t?(r=!0,e(t),e=n):0!==proxy.count||r||e(null,o)}var r=!1;return n=n||noop,proxy.count=t,0===t?e():proxy}function noop(){}t.exports=after},321:function(t,e,n){function selectColor(){return e.colors[o++%e.colors.length]}function debug(t){function disabled(){}function enabled(){var t=enabled,n=+new Date,o=n-(r||n);t.diff=o,t.prev=r,t.curr=n,r=n,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=selectColor());for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var a=0;i[0]=i[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;a++;var o=e.formatters[r];if("function"==typeof o){var s=i[a];n=o.call(t,s),i.splice(a,1),a--}return n}),i=e.formatArgs.apply(t,i),(enabled.log||e.log||console.log.bind(console)).apply(t,i)}disabled.enabled=!1,enabled.enabled=!0;var n=e.enabled(t)?enabled:disabled;return n.namespace=t,n}function enable(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function disable(){e.enable("")}function enabled(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function coerce(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=debug.debug=debug,e.coerce=coerce,e.disable=disable,e.enable=enable,e.enabled=enabled,e.humanize=n(83),e.names=[],e.skips=[],e.formatters={};var r,o=0},322:function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},34:function(t,e,n){(function(t){function encodeBase64Object(t,n){return n("b"+e.packets[t.type]+t.data.data)}function encodeArrayBuffer(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=p[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return r(s.buffer)}function encodeBlobAsArrayBuffer(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,n,!0,r)},o.readAsArrayBuffer(t.data)}function encodeBlob(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(h)return encodeBlobAsArrayBuffer(t,n,r);var o=new Uint8Array(1);return o[0]=p[t.type],r(new y([o.buffer,t.data]))}function tryDecode(t){try{t=c.decode(t)}catch(t){return!1}return t}function map(t,e,n){for(var r=new Array(t.length),o=a(t.length,n),i=0;i<t.length;i++)!function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})}(i,t[i],o)}var r,o=n(322),i=n(129),s=n(169),a=n(320),c=n(475);t&&t.ArrayBuffer&&(r=n(268));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=u||l;e.protocol=3;var p=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=o(p),d={type:"error",data:"parser error"},y=n(270);e.encodePacket=function(e,n,r,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof r&&(o=r,r=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&i instanceof ArrayBuffer)return encodeArrayBuffer(e,n,o);if(y&&i instanceof t.Blob)return encodeBlob(e,n,o);if(i&&i.base64)return encodeBase64Object(e,o);var s=p[e.type];return void 0!==e.data&&(s+=r?c.encode(String(e.data)):String(e.data)),o(""+s)},e.encodeBase64Packet=function(n,r){var o="b"+e.packets[n.type];if(y&&n.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];r(o+t)},i.readAsDataURL(n.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(t){for(var a=new Uint8Array(n.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return o+=t.btoa(s),r(o)},e.decodePacket=function(t,n,r){if(void 0===t)return d;if("string"==typeof t){if("b"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&(t=tryDecode(t))===!1)return d;var o=t.charAt(0);return Number(o)==o&&f[o]?t.length>1?{type:f[o],data:t.substring(1)}:{type:f[o]}:d}var i=new Uint8Array(t),o=i[0],a=s(t,1);return y&&"blob"===n&&(a=new y([a])),{type:f[o],data:a}},e.decodeBase64Packet=function(t,e){var n=f[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var o=r.decode(t.substr(1));return"blob"===e&&y&&(o=new y([o])),{type:n,data:o}},e.encodePayload=function(t,n,r){function setLengthHeader(t){return t.length+":"+t}function encodeOne(t,r){e.encodePacket(t,!!o&&n,!0,function(t){r(null,setLengthHeader(t))})}"function"==typeof n&&(r=n,n=null);var o=i(t);return n&&o?y&&!h?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r):t.length?void map(t,encodeOne,function(t,e){return r(e.join(""))}):r("0:")},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);"function"==typeof n&&(r=n,n=null);var o;if(""==t)return r(d,0,1);for(var i,s,a="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"!=l)a+=l;else{if(""==a||a!=(i=Number(a)))return r(d,0,1);if(s=t.substr(c+1,i),a!=s.length)return r(d,0,1);if(s.length){if(o=e.decodePacket(s,n,!0),d.type==o.type&&d.data==o.data)return r(d,0,1);if(!1===r(o,c+i,u))return}c+=i,a=""}}return""!=a?r(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){function encodeOne(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})}if(!t.length)return n(new ArrayBuffer(0));map(t,encodeOne,function(t,e){var r=e.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}o[i++]=e?0:1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]}),n(o.buffer)})},e.encodePayloadAsBlob=function(t,n){function encodeOne(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,y){var c=new y([e.buffer,a.buffer,t]);n(null,c)}})}map(t,encodeOne,function(t,e){return n(new y(e))})},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var o=t,i=[],a=!1;o.byteLength>0;){for(var c=new Uint8Array(o),u=0===c[0],l="",h=1;255!=c[h];h++){if(l.length>310){a=!0;break}l+=c[h]}if(a)return r(d,0,1);o=s(o,2+l.length),l=parseInt(l);var p=s(o,0,l);if(u)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(t){var f=new Uint8Array(p);p="";for(var h=0;h<f.length;h++)p+=String.fromCharCode(f[h])}i.push(p),o=s(o,l)}var y=i.length;i.forEach(function(t,o){r(e.decodePacket(t,n,!0),o,y)})}}).call(e,n(1))},364:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},366:function(t,e,n){(function(t,r){var o;(function(){function runInContext(t,e){function has(t){if(has[t]!==d)return has[t];var o;if("bug-string-char-index"==t)o="a"!="a"[0];else if("json"==t)o=has("json-stringify")&&has("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,u="function"==typeof c&&m;if(u){(s=function(){return 1}).toJSON=s;try{u="0"===c(0)&&"0"===c(new n)&&'""'==c(new r)&&c(g)===d&&c(d)===d&&c()===d&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([d])&&"null"==c(null)&&"[null,null,null]"==c([d,g,null])&&c({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new i(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new i(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new i(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new i(-1))}catch(t){u=!1}}o=u}if("json-parse"==t){var l=e.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){s=l(a);var h=5==s.a.length&&1===s.a[0];if(h){try{h=!l('"\t"')}catch(t){}if(h)try{h=1!==l("01")}catch(t){}if(h)try{h=1!==l("1.")}catch(t){}}}}catch(t){h=!1}o=h}}return has[t]=!!o}t||(t=c.Object()),e||(e=c.Object());var n=t.Number||c.Number,r=t.String||c.String,o=t.Object||c.Object,i=t.Date||c.Date,a=t.SyntaxError||c.SyntaxError,u=t.TypeError||c.TypeError,l=t.Math||c.Math,h=t.JSON||c.JSON;"object"==typeof h&&h&&(e.stringify=h.stringify,e.parse=h.parse);var p,f,d,y=o.prototype,g=y.toString,m=new i(-0xc782b5b800cec);try{m=m.getUTCFullYear()==-109252&&0===m.getUTCMonth()&&1===m.getUTCDate()&&10==m.getUTCHours()&&37==m.getUTCMinutes()&&6==m.getUTCSeconds()&&708==m.getUTCMilliseconds()}catch(t){}if(!has("json")){var v=has("bug-string-char-index");if(!m)var b=l.floor,k=[0,31,59,90,120,151,181,212,243,273,304,334],_=function(t,e){return k[e]+365*(t-1970)+b((t-1969+(e=+(e>1)))/4)-b((t-1901+e)/100)+b((t-1601+e)/400)};if((p=y.hasOwnProperty)||(p=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?p=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,p=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,p.call(this,t)}),f=function(t,e){var n,r,o,i=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(o in r)p.call(r,o)&&i++;return n=r=null,i?f=2==i?function(t,e){var n,r={},o="[object Function]"==g.call(t);for(n in t)o&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(t,n)||e(n)}:function(t,e){var n,r,o="[object Function]"==g.call(t);for(n in t)o&&"prototype"==n||!p.call(t,n)||(r="constructor"===n)||e(n);(r||p.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],f=function(t,e){var n,o,i="[object Function]"==g.call(t),a=!i&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(n in t)i&&"prototype"==n||!a.call(t,n)||e(n);for(o=r.length;n=r[--o];a.call(t,n)&&e(n));}),f(t,e)},!has("json-stringify")){var w={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},S=function(t,e){return("000000"+(e||0)).slice(-t)},C=function(t){for(var e='"',n=0,r=t.length,o=!v||r>10,i=o&&(v?t.split(""):t);n<r;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=w[s];break;default:if(s<32){e+="\\u00"+S(2,s.toString(16));break}e+=o?i[n]:t.charAt(n)}}return e+'"'},T=function(t,e,n,r,o,i,s){var a,c,l,h,y,m,v,k,w,P,x,A,O,E,R,B;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if("[object Date]"!=(c=g.call(a))||p.call(a,"toJSON"))"function"==typeof a.toJSON&&("[object Number]"!=c&&"[object String]"!=c&&"[object Array]"!=c||p.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(_){for(y=b(a/864e5),l=b(y/365.2425)+1970-1;_(l+1,0)<=y;l++);for(h=b((y-_(l,0))/30.42);_(l,h+1)<=y;h++);y=1+y-_(l,h),m=(a%864e5+864e5)%864e5,v=b(m/36e5)%24,k=b(m/6e4)%60,w=b(m/1e3)%60,P=m%1e3}else l=a.getUTCFullYear(),h=a.getUTCMonth(),y=a.getUTCDate(),v=a.getUTCHours(),k=a.getUTCMinutes(),w=a.getUTCSeconds(),P=a.getUTCMilliseconds();a=(l<=0||l>=1e4?(l<0?"-":"+")+S(6,l<0?-l:l):S(4,l))+"-"+S(2,h+1)+"-"+S(2,y)+"T"+S(2,v)+":"+S(2,k)+":"+S(2,w)+"."+S(3,P)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(c=g.call(a)))return""+a;if("[object Number]"==c)return a>-1/0&&a<1/0?""+a:"null";if("[object String]"==c)return C(""+a);if("object"==typeof a){for(E=s.length;E--;)if(s[E]===a)throw u();if(s.push(a),x=[],R=i,i+=o,"[object Array]"==c){for(O=0,E=a.length;O<E;O++)A=T(O,a,n,r,o,i,s),x.push(A===d?"null":A);B=x.length?o?"[\n"+i+x.join(",\n"+i)+"\n"+R+"]":"["+x.join(",")+"]":"[]"}else f(r||a,function(t){var e=T(t,a,n,r,o,i,s);e!==d&&x.push(C(t)+":"+(o?" ":"")+e)}),B=x.length?o?"{\n"+i+x.join(",\n"+i)+"\n"+R+"}":"{"+x.join(",")+"}":"{}";return s.pop(),B}};e.stringify=function(t,e,n){var r,o,i,a;if(s[typeof e]&&e)if("[object Function]"==(a=g.call(e)))o=e;else if("[object Array]"==a){i={};for(var c,u=0,l=e.length;u<l;c=e[u++],("[object String]"==(a=g.call(c))||"[object Number]"==a)&&(i[c]=1));}if(n)if("[object Number]"==(a=g.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return T("",(c={},c[""]=t,c),o,i,r,"",[])}}if(!has("json-parse")){var P,x,A=r.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},E=function(){throw P=x=null,a()},R=function(){for(var t,e,n,r,o,i=x,s=i.length;P<s;)switch(o=i.charCodeAt(P)){case 9:case 10:case 13:case 32:P++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=v?i.charAt(P):i[P],P++,t;case 34:for(t="@",P++;P<s;)if((o=i.charCodeAt(P))<32)E();else if(92==o)switch(o=i.charCodeAt(++P)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=O[o],P++;break;case 117:for(e=++P,n=P+4;P<n;P++)(o=i.charCodeAt(P))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||E();t+=A("0x"+i.slice(e,P));break;default:E()}else{if(34==o)break;for(o=i.charCodeAt(P),e=P;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++P);t+=i.slice(e,P)}if(34==i.charCodeAt(P))return P++,t;E();default:if(e=P,45==o&&(r=!0,o=i.charCodeAt(++P)),o>=48&&o<=57){for(48==o&&(o=i.charCodeAt(P+1))>=48&&o<=57&&E(),r=!1;P<s&&(o=i.charCodeAt(P))>=48&&o<=57;P++);if(46==i.charCodeAt(P)){for(n=++P;n<s&&(o=i.charCodeAt(n))>=48&&o<=57;n++);n==P&&E(),P=n}if(101==(o=i.charCodeAt(P))||69==o){for(o=i.charCodeAt(++P),43!=o&&45!=o||P++,n=P;n<s&&(o=i.charCodeAt(n))>=48&&o<=57;n++);n==P&&E(),P=n}return+i.slice(e,P)}if(r&&E(),"true"==i.slice(P,P+4))return P+=4,!0;if("false"==i.slice(P,P+5))return P+=5,!1;if("null"==i.slice(P,P+4))return P+=4,null;E()}return"$"},B=function(t){var e,n;if("$"==t&&E(),"string"==typeof t){if("@"==(v?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=R());n||(n=!0))n&&(","==t?"]"==(t=R())&&E():E()),","==t&&E(),e.push(B(t));return e}if("{"==t){for(e={};"}"!=(t=R());n||(n=!0))n&&(","==t?"}"==(t=R())&&E():E()),","!=t&&"string"==typeof t&&"@"==(v?t.charAt(0):t[0])&&":"==R()||E(),e[t.slice(1)]=B(R());return e}E()}return t},M=function(t,e,n){var r=j(t,e,n);r===d?delete t[e]:t[e]=r},j=function(t,e,n){var r,o=t[e];if("object"==typeof o&&o)if("[object Array]"==g.call(o))for(r=o.length;r--;)M(o,r,n);else f(o,function(t){M(o,t,n)});return n.call(t,e,o)};e.parse=function(t,e){var n,r;return P=0,x=""+t,n=B(R()),"$"!=R()&&E(),P=x=null,e&&"[object Function]"==g.call(e)?j((r={},r[""]=n,r),"",e):n}}}return e.runInContext=runInContext,e}var i=n(474),s={function:!0,object:!0},a=s[typeof e]&&e&&!e.nodeType&&e,c=s[typeof window]&&window||this,u=a&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!i)runInContext(c,a);else{var l=c.JSON,h=c.JSON3,p=!1,f=runInContext(c,c.JSON3={noConflict:function(){return p||(p=!0,c.JSON=l,c.JSON3=h,l=h=null),f}});c.JSON={parse:f.parse,stringify:f.stringify}}i&&void 0!==(o=function(){return f}.call(e,n,e,t))&&(t.exports=o)}).call(this)}).call(e,n(52)(t),n(1))},367:function(t,e,n){(function(e){var n=/^[\],:{}\s]*$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(/^\s+/,"").replace(/\s+$/,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?new Function("return "+t)():void 0):null}}).call(e,n(1))},392:function(t,e,n){(function(e){function url(t,n){var i=t;n=n||e.location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==n?n.protocol+"//"+t:"https://"+t),o("parse %s",t),i=r(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var s=i.host.indexOf(":")!==-1,a=s?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port,i.href=i.protocol+"://"+a+(n&&n.port===i.port?"":":"+i.port),i}var r=n(132),o=n(61)("socket.io-client:url");t.exports=url}).call(e,n(1))},393:function(t,e,n){function selectColor(){return e.colors[o++%e.colors.length]}function debug(t){function disabled(){}function enabled(){var t=enabled,n=+new Date,o=n-(r||n);t.diff=o,t.prev=r,t.curr=n,r=n,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=selectColor());for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var a=0;i[0]=i[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;a++;var o=e.formatters[r];if("function"==typeof o){var s=i[a];n=o.call(t,s),i.splice(a,1),a--}return n}),i=e.formatArgs.apply(t,i),(enabled.log||e.log||console.log.bind(console)).apply(t,i)}disabled.enabled=!1,enabled.enabled=!0;var n=e.enabled(t)?enabled:disabled;return n.namespace=t,n}function enable(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function disable(){e.enable("")}function enabled(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function coerce(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=debug.debug=debug,e.coerce=coerce,e.disable=disable,e.enable=enable,e.enabled=enabled,e.humanize=n(83),e.names=[],e.skips=[],e.formatters={};var r,o=0},394:function(t,e,n){(function(t){var r=n(131),o=n(138);e.deconstructPacket=function(t){function _deconstructPacket(t){if(!t)return t;if(o(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(r(t)){for(var i=new Array(t.length),s=0;s<t.length;s++)i[s]=_deconstructPacket(t[s]);return i}if("object"==typeof t&&!(t instanceof Date)){var i={};for(var a in t)i[a]=_deconstructPacket(t[a]);return i}return t}var e=[],n=t.data,i=t;return i.data=_deconstructPacket(n),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){function _reconstructPacket(t){if(t&&t._placeholder){return e[t.num]}if(r(t)){for(var n=0;n<t.length;n++)t[n]=_reconstructPacket(t[n]);return t}if(t&&"object"==typeof t){for(var o in t)t[o]=_reconstructPacket(t[o]);return t}return t}return t.data=_reconstructPacket(t.data),t.attachments=void 0,t},e.removeBlobs=function(e,n){function _removeBlobs(e,a,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){i++;var u=new FileReader;u.onload=function(){c?c[a]=this.result:s=this.result,--i||n(s)},u.readAsArrayBuffer(e)}else if(r(e))for(var l=0;l<e.length;l++)_removeBlobs(e[l],l,e);else if(e&&"object"==typeof e&&!o(e))for(var h in e)_removeBlobs(e[h],h,e)}var i=0,s=e;_removeBlobs(s),i||n(s)}}).call(e,n(1))},395:function(t,e){function Emitter(t){if(t)return mixin(t)}function mixin(t){for(var e in Emitter.prototype)t[e]=Emitter.prototype[e];return t}t.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},Emitter.prototype.once=function(t,e){function on(){n.off(t,on),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},on.fn=e,this.on(t,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length}},396:function(t,e,n){function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r),t}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function load(){var t;try{t=e.storage.debug}catch(t){}return t}e=t.exports=n(397),e.log=log,e.formatArgs=formatArgs,e.save=save,e.load=load,e.useColors=useColors,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(load())},397:function(t,e,n){function selectColor(){return e.colors[o++%e.colors.length]}function debug(t){function disabled(){}function enabled(){var t=enabled,n=+new Date,o=n-(r||n);t.diff=o,t.prev=r,t.curr=n,r=n,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=selectColor());var i=Array.prototype.slice.call(arguments);i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var s=0;i[0]=i[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;s++;var o=e.formatters[r];if("function"==typeof o){var a=i[s];n=o.call(t,a),i.splice(s,1),s--}return n}),"function"==typeof e.formatArgs&&(i=e.formatArgs.apply(t,i)),(enabled.log||e.log||console.log.bind(console)).apply(t,i)}disabled.enabled=!1,enabled.enabled=!0;var n=e.enabled(t)?enabled:disabled;return n.namespace=t,n}function enable(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function disable(){e.enable("")}function enabled(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function coerce(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=debug,e.coerce=coerce,e.disable=disable,e.enable=enable,e.enabled=enabled,e.humanize=n(398),e.names=[],e.skips=[],e.formatters={};var r,o=0},398:function(t,e){function parse(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a}}}}function short(t){return t>=i?Math.round(t/i)+"d":t>=o?Math.round(t/o)+"h":t>=r?Math.round(t/r)+"m":t>=n?Math.round(t/n)+"s":t+"ms"}function long(t){return plural(t,i,"day")||plural(t,o,"hour")||plural(t,r,"minute")||plural(t,n,"second")||t+" ms"}function plural(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var n=1e3,r=60*n,o=60*r,i=24*o,s=365.25*i;t.exports=function(t,e){return e=e||{},"string"==typeof t?parse(t):e.long?long(t):short(t)}},399:function(t,e){function toArray(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}t.exports=toArray},40:function(t,e,n){function Emitter(t){if(t)return mixin(t)}function mixin(t){for(var e in Emitter.prototype)t[e]=Emitter.prototype[e];return t}t.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Emitter.prototype.once=function(t,e){function on(){this.off(t,on),e.apply(this,arguments)}return on.fn=e,this.on(t,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length}},47:function(t,e){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(n===setTimeout)return setTimeout(t,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function runClearTimeout(t){if(r===clearTimeout)return clearTimeout(t);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}function cleanUpNextTick(){a&&i&&(a=!1,i.length?s=i.concat(s):c=-1,s.length&&drainQueue())}function drainQueue(){if(!a){var t=runTimeout(cleanUpNextTick);a=!0;for(var e=s.length;e;){for(i=s,s=[];++c<e;)i&&i[c].run();c=-1,e=s.length}i=null,a=!1,runClearTimeout(t)}}function Item(t,e){this.fun=t,this.array=e}function noop(){}var n,r,o=t.exports={};!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(t){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){r=defaultClearTimeout}}();var i,s=[],a=!1,c=-1;o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new Item(t,e)),1!==s.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},474:function(t,e){(function(e){t.exports=e}).call(e,{})},475:function(t,e,n){(function(t,r){var o;!function(i){function ucs2decode(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function ucs2encode(t){for(var e,n=t.length,r=-1,o="";++r<n;)e=t[r],e>65535&&(e-=65536,o+=h(e>>>10&1023|55296),e=56320|1023&e),o+=h(e);return o}function createByte(t,e){return h(t>>e&63|128)}function encodeCodePoint(t){if(0==(4294967168&t))return h(t);var e="";return 0==(4294965248&t)?e=h(t>>6&31|192):0==(4294901760&t)?(e=h(t>>12&15|224),e+=createByte(t,6)):0==(4292870144&t)&&(e=h(t>>18&7|240),e+=createByte(t,12),e+=createByte(t,6)),e+=h(63&t|128)}function wtf8encode(t){for(var e,n=ucs2decode(t),r=n.length,o=-1,i="";++o<r;)e=n[o],i+=encodeCodePoint(e);return i}function readContinuationByte(){if(l>=u)throw Error("Invalid byte index");var t=255&c[l];if(l++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function decodeSymbol(){var t,e,n,r,o;if(l>u)throw Error("Invalid byte index");if(l==u)return!1;if(t=255&c[l],l++,0==(128&t))return t;if(192==(224&t)){var e=readContinuationByte();if((o=(31&t)<<6|e)>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=readContinuationByte(),n=readContinuationByte(),(o=(15&t)<<12|e<<6|n)>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=readContinuationByte(),n=readContinuationByte(),r=readContinuationByte(),(o=(15&t)<<18|e<<12|n<<6|r)>=65536&&o<=1114111))return o;throw Error("Invalid WTF-8 detected")}function wtf8decode(t){c=ucs2decode(t),u=c.length,l=0;for(var e,n=[];(e=decodeSymbol())!==!1;)n.push(e);return ucs2encode(n)}var s="object"==typeof e&&e,a=("object"==typeof t&&t&&t.exports,"object"==typeof r&&r);a.global!==a&&a.window;var c,u,l,h=String.fromCharCode,p={version:"1.0.0",encode:wtf8encode,decode:wtf8decode};void 0!==(o=function(){return p}.call(e,n,e,t))&&(t.exports=o)}()}).call(e,n(52)(t),n(1))},519:function(t,e){},526:function(t,e,n){n(158),n(102),t.exports=n(101)},54:function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},59:function(t,e,n){(function(r){function useColors(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r),t}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function load(){try{return e.storage.debug}catch(t){}if(void 0!==r&&"env"in r)return n.i({NODE_ENV:"production",VERSION:"0.5.0-3"}).DEBUG}e=t.exports=n(321),e.log=log,e.formatArgs=formatArgs,e.save=save,e.load=load,e.useColors=useColors,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(load())}).call(e,n(47))},61:function(t,e,n){(function(r){function useColors(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var t=arguments,n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r),t}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function load(){try{return e.storage.debug}catch(t){}if(void 0!==r&&"env"in r)return n.i({NODE_ENV:"production",VERSION:"0.5.0-3"}).DEBUG}e=t.exports=n(393),e.log=log,e.formatArgs=formatArgs,e.save=save,e.load=load,e.useColors=useColors,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(load())}).call(e,n(47))},81:function(t,e,n){function Transport(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var r=n(34),o=n(40);t.exports=Transport,o(Transport.prototype),Transport.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},Transport.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Transport.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Transport.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},Transport.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Transport.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},Transport.prototype.onPacket=function(t){this.emit("packet",t)},Transport.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},82:function(t,e,n){(function(e){var r=n(364);t.exports=function(t){var n=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(t){}if(!n)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(e,n(1))},83:function(t,e){function parse(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function fmtShort(t){return t>=i?Math.round(t/i)+"d":t>=o?Math.round(t/o)+"h":t>=r?Math.round(t/r)+"m":t>=n?Math.round(t/n)+"s":t+"ms"}function fmtLong(t){return plural(t,i,"day")||plural(t,o,"hour")||plural(t,r,"minute")||plural(t,n,"second")||t+" ms"}function plural(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var n=1e3,r=60*n,o=60*r,i=24*o,s=365.25*i;t.exports=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return parse(t);if("number"===n&&isNaN(t)===!1)return e.long?fmtLong(t):fmtShort(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},84:function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},85:function(t,e,n){function Encoder(){}function encodeAsString(t){var n="",i=!1;return n+=t.type,e.BINARY_EVENT!=t.type&&e.BINARY_ACK!=t.type||(n+=t.attachments,n+="-"),t.nsp&&"/"!=t.nsp&&(i=!0,n+=t.nsp),null!=t.id&&(i&&(n+=",",i=!1),n+=t.id),null!=t.data&&(i&&(n+=","),n+=o.stringify(t.data)),r("encoded %j as %s",t,n),n}function encodeAsBinary(t,e){function writeEncoding(t){var n=s.deconstructPacket(t),r=encodeAsString(n.packet),o=n.buffers;o.unshift(r),e(o)}s.removeBlobs(t,writeEncoding)}function Decoder(){this.reconstructor=null}function decodeString(t){var n={},o=0;if(n.type=Number(t.charAt(0)),null==e.types[n.type])return error();if(e.BINARY_EVENT==n.type||e.BINARY_ACK==n.type){for(var i="";"-"!=t.charAt(++o)&&(i+=t.charAt(o),o!=t.length););if(i!=Number(i)||"-"!=t.charAt(o))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"==t.charAt(o+1))for(n.nsp="";++o;){var s=t.charAt(o);if(","==s)break;if(n.nsp+=s,o==t.length)break}else n.nsp="/";var a=t.charAt(o+1);if(""!==a&&Number(a)==a){for(n.id="";++o;){var s=t.charAt(o);if(null==s||Number(s)!=s){--o;break}if(n.id+=t.charAt(o),o==t.length)break}n.id=Number(n.id)}return t.charAt(++o)&&(n=tryParse(n,t.substr(o))),r("decoded %s as %j",t,n),n}function tryParse(t,e){try{t.data=o.parse(e)}catch(t){return error()}return t}function BinaryReconstructor(t){this.reconPack=t,this.buffers=[]}function error(t){return{type:e.ERROR,data:"parser error"}}var r=n(396)("socket.io-parser"),o=n(366),i=n(395),s=n(394),a=n(138);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=Encoder,e.Decoder=Decoder,Encoder.prototype.encode=function(t,n){if(r("encoding packet %j",t),e.BINARY_EVENT==t.type||e.BINARY_ACK==t.type)encodeAsBinary(t,n);else{n([encodeAsString(t)])}},i(Decoder.prototype),Decoder.prototype.add=function(t){var n;if("string"==typeof t)n=decodeString(t),e.BINARY_EVENT==n.type||e.BINARY_ACK==n.type?(this.reconstructor=new BinaryReconstructor(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},Decoder.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},BinaryReconstructor.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},BinaryReconstructor.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}}},[526]);
//# sourceMappingURL=echo.c5f6999ee20e096c43f1.js.map